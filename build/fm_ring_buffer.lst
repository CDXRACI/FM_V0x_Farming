ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fm_ring_buffer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/fm_ring_buffer.c"
  18              		.section	.text.FM_RBuffer_Int,"ax",%progbits
  19              		.align	1
  20              		.global	FM_RBuffer_Int
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	FM_RBuffer_Int:
  26              	.LFB68:
   1:Core/Src/fm_ring_buffer.c **** #include "fm_ring_buffer.h"
   2:Core/Src/fm_ring_buffer.c **** 
   3:Core/Src/fm_ring_buffer.c **** extern UART_HandleTypeDef huart2;
   4:Core/Src/fm_ring_buffer.c **** 
   5:Core/Src/fm_ring_buffer.c **** #define     FM_RBUFFER_UART2                ( &huart2  )
   6:Core/Src/fm_ring_buffer.c **** #define    FM_RBUFFER_TIMEOUT_DEF            500U     
   7:Core/Src/fm_ring_buffer.c **** uint16_t    FM_RBUFFER_TIMEOUT              = 0;
   8:Core/Src/fm_ring_buffer.c **** 
   9:Core/Src/fm_ring_buffer.c **** 
  10:Core/Src/fm_ring_buffer.c **** RBuffer_Def_t     RX_Buffer = { {0},  0, 0}; 
  11:Core/Src/fm_ring_buffer.c **** RBuffer_Def_t     TX_Buffer = { {0},  0, 0}; 
  12:Core/Src/fm_ring_buffer.c **** RBuffer_Def_t     *__RX_RBuffer;
  13:Core/Src/fm_ring_buffer.c **** RBuffer_Def_t     *__TX_RBuffer;
  14:Core/Src/fm_ring_buffer.c **** 
  15:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_Int( void ){
  27              		.loc 1 15 31 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  16:Core/Src/fm_ring_buffer.c **** 
  17:Core/Src/fm_ring_buffer.c ****           __RX_RBuffer = &RX_Buffer;
  32              		.loc 1 17 11 view .LVU1
  33              		.loc 1 17 24 is_stmt 0 view .LVU2
  34 0000 084B     		ldr	r3, .L2
  35 0002 094A     		ldr	r2, .L2+4
  36 0004 1A60     		str	r2, [r3]
  18:Core/Src/fm_ring_buffer.c ****           __TX_RBuffer = &TX_Buffer;
  37              		.loc 1 18 11 is_stmt 1 view .LVU3
  38              		.loc 1 18 24 is_stmt 0 view .LVU4
  39 0006 094B     		ldr	r3, .L2+8
  40 0008 094A     		ldr	r2, .L2+12
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 2


  41 000a 1A60     		str	r2, [r3]
  19:Core/Src/fm_ring_buffer.c **** 
  20:Core/Src/fm_ring_buffer.c ****           __HAL_UART_ENABLE_IT(FM_RBUFFER_UART2, UART_IT_ERR);
  42              		.loc 1 20 11 is_stmt 1 view .LVU5
  43 000c 094B     		ldr	r3, .L2+16
  44 000e 1B68     		ldr	r3, [r3]
  45 0010 5A69     		ldr	r2, [r3, #20]
  46 0012 42F00102 		orr	r2, r2, #1
  47 0016 5A61     		str	r2, [r3, #20]
  21:Core/Src/fm_ring_buffer.c ****           __HAL_UART_ENABLE_IT(FM_RBUFFER_UART2, UART_IT_RXNE);
  48              		.loc 1 21 11 view .LVU6
  49 0018 DA68     		ldr	r2, [r3, #12]
  50 001a 42F02002 		orr	r2, r2, #32
  51 001e DA60     		str	r2, [r3, #12]
  22:Core/Src/fm_ring_buffer.c **** }
  52              		.loc 1 22 1 is_stmt 0 view .LVU7
  53 0020 7047     		bx	lr
  54              	.L3:
  55 0022 00BF     		.align	2
  56              	.L2:
  57 0024 00000000 		.word	__RX_RBuffer
  58 0028 00000000 		.word	RX_Buffer
  59 002c 00000000 		.word	__TX_RBuffer
  60 0030 00000000 		.word	TX_Buffer
  61 0034 00000000 		.word	huart2
  62              		.cfi_endproc
  63              	.LFE68:
  65              		.section	.text.FM_RBuffer_Checking_Data_Is_Available,"ax",%progbits
  66              		.align	1
  67              		.global	FM_RBuffer_Checking_Data_Is_Available
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	FM_RBuffer_Checking_Data_Is_Available:
  73              	.LFB69:
  23:Core/Src/fm_ring_buffer.c **** 
  24:Core/Src/fm_ring_buffer.c **** uint8_t FM_RBuffer_Checking_Data_Is_Available( void ){
  74              		.loc 1 24 54 is_stmt 1 view -0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		@ link register save eliminated.
  25:Core/Src/fm_ring_buffer.c ****             return ( uint16_t )( FM_UART2_BUFFER_SIZE + ( __RX_RBuffer->head - __RX_RBuffer->tail )
  79              		.loc 1 25 13 view .LVU9
  80              		.loc 1 25 71 is_stmt 0 view .LVU10
  81 0000 044B     		ldr	r3, .L5
  82 0002 1B68     		ldr	r3, [r3]
  83 0004 D3F88000 		ldr	r0, [r3, #128]
  84              		.loc 1 25 92 view .LVU11
  85 0008 D3F88430 		ldr	r3, [r3, #132]
  86              		.loc 1 25 78 view .LVU12
  87 000c C01A     		subs	r0, r0, r3
  26:Core/Src/fm_ring_buffer.c ****                                                                                     FM_UART2_BUFFER
  27:Core/Src/fm_ring_buffer.c **** }
  88              		.loc 1 27 1 view .LVU13
  89 000e 00F07F00 		and	r0, r0, #127
  90 0012 7047     		bx	lr
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 3


  91              	.L6:
  92              		.align	2
  93              	.L5:
  94 0014 00000000 		.word	__RX_RBuffer
  95              		.cfi_endproc
  96              	.LFE69:
  98              		.section	.text.FM_RBuffer_Store_Data,"ax",%progbits
  99              		.align	1
 100              		.global	FM_RBuffer_Store_Data
 101              		.syntax unified
 102              		.thumb
 103              		.thumb_func
 105              	FM_RBuffer_Store_Data:
 106              	.LVL0:
 107              	.LFB70:
  28:Core/Src/fm_ring_buffer.c **** 
  29:Core/Src/fm_ring_buffer.c **** 
  30:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_Store_Data( unsigned char chr, RBuffer_Def_t *RB_buffer ){
 108              		.loc 1 30 77 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
  31:Core/Src/fm_ring_buffer.c ****             uint8_t l_cnt = ( uint8_t )( RB_buffer->head + 1) % FM_UART2_BUFFER_SIZE;
 113              		.loc 1 31 13 view .LVU15
 114              		.loc 1 31 51 is_stmt 0 view .LVU16
 115 0000 D1F88030 		ldr	r3, [r1, #128]
 116              		.loc 1 31 29 view .LVU17
 117 0004 0133     		adds	r3, r3, #1
 118              		.loc 1 31 21 view .LVU18
 119 0006 03F07F03 		and	r3, r3, #127
 120              	.LVL1:
  32:Core/Src/fm_ring_buffer.c **** 
  33:Core/Src/fm_ring_buffer.c ****             if( l_cnt != RB_buffer->tail ){
 121              		.loc 1 33 13 is_stmt 1 view .LVU19
 122              		.loc 1 33 35 is_stmt 0 view .LVU20
 123 000a D1F88420 		ldr	r2, [r1, #132]
 124              		.loc 1 33 15 view .LVU21
 125 000e 9342     		cmp	r3, r2
 126 0010 04D0     		beq	.L7
  34:Core/Src/fm_ring_buffer.c **** 
  35:Core/Src/fm_ring_buffer.c ****                     RB_buffer->fm_buffer[RB_buffer->head ] = chr;
 127              		.loc 1 35 21 is_stmt 1 view .LVU22
 128              		.loc 1 35 51 is_stmt 0 view .LVU23
 129 0012 D1F88020 		ldr	r2, [r1, #128]
 130              		.loc 1 35 60 view .LVU24
 131 0016 8854     		strb	r0, [r1, r2]
  36:Core/Src/fm_ring_buffer.c ****                     RB_buffer->head = l_cnt;
 132              		.loc 1 36 21 is_stmt 1 view .LVU25
 133              		.loc 1 36 37 is_stmt 0 view .LVU26
 134 0018 C1F88030 		str	r3, [r1, #128]
 135              	.L7:
  37:Core/Src/fm_ring_buffer.c **** 
  38:Core/Src/fm_ring_buffer.c ****             }
  39:Core/Src/fm_ring_buffer.c **** }
 136              		.loc 1 39 1 view .LVU27
 137 001c 7047     		bx	lr
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 4


 138              		.cfi_endproc
 139              	.LFE70:
 141              		.section	.text.FM_RBuffer_UART_ISR,"ax",%progbits
 142              		.align	1
 143              		.global	FM_RBuffer_UART_ISR
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 148              	FM_RBuffer_UART_ISR:
 149              	.LVL2:
 150              	.LFB72:
  40:Core/Src/fm_ring_buffer.c **** void Uart_printbase (long n, uint8_t base)
  41:Core/Src/fm_ring_buffer.c **** {
  42:Core/Src/fm_ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
  43:Core/Src/fm_ring_buffer.c ****   char *s = &buf[sizeof(buf) - 1];
  44:Core/Src/fm_ring_buffer.c ****   *s = '\0';
  45:Core/Src/fm_ring_buffer.c ****   // prevent crash if called with base == 1
  46:Core/Src/fm_ring_buffer.c ****   if (base < 2) base = 10;
  47:Core/Src/fm_ring_buffer.c ****   do {
  48:Core/Src/fm_ring_buffer.c ****     unsigned long m = n;
  49:Core/Src/fm_ring_buffer.c ****     n /= base;
  50:Core/Src/fm_ring_buffer.c ****     char c = m - base * n;
  51:Core/Src/fm_ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
  52:Core/Src/fm_ring_buffer.c ****   } while(n);
  53:Core/Src/fm_ring_buffer.c ****   while(*s) FM_RBuffer_Write_Data(*s++);
  54:Core/Src/fm_ring_buffer.c **** }
  55:Core/Src/fm_ring_buffer.c **** 
  56:Core/Src/fm_ring_buffer.c **** 
  57:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_UART_ISR (UART_HandleTypeDef *huart ) {
 151              		.loc 1 57 58 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 0
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155              		.loc 1 57 58 is_stmt 0 view .LVU29
 156 0000 08B5     		push	{r3, lr}
 157              	.LCFI0:
 158              		.cfi_def_cfa_offset 8
 159              		.cfi_offset 3, -8
 160              		.cfi_offset 14, -4
  58:Core/Src/fm_ring_buffer.c ****             uint32_t FM_ISR_FLAGS = READ_REG( huart->Instance->SR  );
 161              		.loc 1 58 13 is_stmt 1 view .LVU30
 162              		.loc 1 58 37 is_stmt 0 view .LVU31
 163 0002 0368     		ldr	r3, [r0]
 164              		.loc 1 58 22 view .LVU32
 165 0004 1A68     		ldr	r2, [r3]
 166              	.LVL3:
  59:Core/Src/fm_ring_buffer.c ****             uint32_t FM_CR1_ITS   = READ_REG( huart->Instance->CR1 );
 167              		.loc 1 59 13 is_stmt 1 view .LVU33
 168              		.loc 1 59 22 is_stmt 0 view .LVU34
 169 0006 D968     		ldr	r1, [r3, #12]
 170              	.LVL4:
  60:Core/Src/fm_ring_buffer.c **** 
  61:Core/Src/fm_ring_buffer.c ****               /* if DR is not empty and the Rx Int is enabled */
  62:Core/Src/fm_ring_buffer.c ****          if (((FM_ISR_FLAGS & USART_SR_RXNE) != RESET) && ((FM_CR1_ITS & USART_CR1_RXNEIE) != RESET
 171              		.loc 1 62 10 is_stmt 1 view .LVU35
 172              		.loc 1 62 13 is_stmt 0 view .LVU36
 173 0008 12F0200F 		tst	r2, #32
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 5


 174 000c 02D0     		beq	.L10
 175              		.loc 1 62 56 discriminator 1 view .LVU37
 176 000e 11F0200F 		tst	r1, #32
 177 0012 06D1     		bne	.L15
 178              	.L10:
  63:Core/Src/fm_ring_buffer.c **** 
  64:Core/Src/fm_ring_buffer.c ****                 huart->Instance->SR;        
  65:Core/Src/fm_ring_buffer.c ****                 unsigned char chr = huart->Instance->DR;
  66:Core/Src/fm_ring_buffer.c ****                 FM_RBuffer_Store_Data( chr,__RX_RBuffer );
  67:Core/Src/fm_ring_buffer.c ****                 return;
  68:Core/Src/fm_ring_buffer.c ****          }
  69:Core/Src/fm_ring_buffer.c ****          if (((FM_ISR_FLAGS & USART_SR_TXE) != RESET) && ((FM_CR1_ITS & USART_CR1_TXEIE) != RESET))
 179              		.loc 1 69 10 is_stmt 1 view .LVU38
 180              		.loc 1 69 13 is_stmt 0 view .LVU39
 181 0014 12F0800F 		tst	r2, #128
 182 0018 02D0     		beq	.L9
 183              		.loc 1 69 55 discriminator 1 view .LVU40
 184 001a 11F0800F 		tst	r1, #128
 185 001e 08D1     		bne	.L16
 186              	.LVL5:
 187              	.L9:
  70:Core/Src/fm_ring_buffer.c ****                     if( TX_Buffer.head == TX_Buffer.tail ) {
  71:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
  72:Core/Src/fm_ring_buffer.c ****     	           __HAL_UART_DISABLE_IT( huart, UART_IT_TXE ); }
  73:Core/Src/fm_ring_buffer.c ****            else {
  74:Core/Src/fm_ring_buffer.c ****     	      // There is more data in the output buffer. Send the next byte
  75:Core/Src/fm_ring_buffer.c ****     	      unsigned char chr = TX_Buffer.fm_buffer[TX_Buffer.tail];
  76:Core/Src/fm_ring_buffer.c ****     	      TX_Buffer.tail = (TX_Buffer.tail + 1) % FM_UART2_BUFFER_SIZE;  
  77:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
  78:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->DR = chr; }
  79:Core/Src/fm_ring_buffer.c ****         return;    
  80:Core/Src/fm_ring_buffer.c ****     }  
  81:Core/Src/fm_ring_buffer.c **** }     
 188              		.loc 1 81 1 view .LVU41
 189 0020 08BD     		pop	{r3, pc}
 190              	.LVL6:
 191              	.L15:
 192              	.LBB2:
  64:Core/Src/fm_ring_buffer.c ****                 unsigned char chr = huart->Instance->DR;
 193              		.loc 1 64 17 is_stmt 1 view .LVU42
  64:Core/Src/fm_ring_buffer.c ****                 unsigned char chr = huart->Instance->DR;
 194              		.loc 1 64 32 is_stmt 0 view .LVU43
 195 0022 1A68     		ldr	r2, [r3]
 196              	.LVL7:
  65:Core/Src/fm_ring_buffer.c ****                 FM_RBuffer_Store_Data( chr,__RX_RBuffer );
 197              		.loc 1 65 17 is_stmt 1 view .LVU44
  65:Core/Src/fm_ring_buffer.c ****                 FM_RBuffer_Store_Data( chr,__RX_RBuffer );
 198              		.loc 1 65 52 is_stmt 0 view .LVU45
 199 0024 5868     		ldr	r0, [r3, #4]
 200              	.LVL8:
  66:Core/Src/fm_ring_buffer.c ****                 return;
 201              		.loc 1 66 17 is_stmt 1 view .LVU46
 202 0026 104B     		ldr	r3, .L18
 203 0028 1968     		ldr	r1, [r3]
 204              	.LVL9:
  66:Core/Src/fm_ring_buffer.c ****                 return;
 205              		.loc 1 66 17 is_stmt 0 view .LVU47
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 6


 206 002a C0B2     		uxtb	r0, r0
  66:Core/Src/fm_ring_buffer.c ****                 return;
 207              		.loc 1 66 17 view .LVU48
 208 002c FFF7FEFF 		bl	FM_RBuffer_Store_Data
 209              	.LVL10:
  67:Core/Src/fm_ring_buffer.c ****          }
 210              		.loc 1 67 17 is_stmt 1 view .LVU49
 211 0030 F6E7     		b	.L9
 212              	.LVL11:
 213              	.L16:
  67:Core/Src/fm_ring_buffer.c ****          }
 214              		.loc 1 67 17 is_stmt 0 view .LVU50
 215              	.LBE2:
  70:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 216              		.loc 1 70 21 is_stmt 1 view .LVU51
  70:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 217              		.loc 1 70 34 is_stmt 0 view .LVU52
 218 0032 0E4A     		ldr	r2, .L18+4
 219              	.LVL12:
  70:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 220              		.loc 1 70 34 view .LVU53
 221 0034 D2F88010 		ldr	r1, [r2, #128]
 222              	.LVL13:
  70:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 223              		.loc 1 70 52 view .LVU54
 224 0038 D2F88420 		ldr	r2, [r2, #132]
  70:Core/Src/fm_ring_buffer.c ****     	      // Buffer empty, so disable interrupts
 225              		.loc 1 70 23 view .LVU55
 226 003c 9142     		cmp	r1, r2
 227 003e 0ED0     		beq	.L17
 228              	.LBB3:
  75:Core/Src/fm_ring_buffer.c ****     	      TX_Buffer.tail = (TX_Buffer.tail + 1) % FM_UART2_BUFFER_SIZE;  
 229              		.loc 1 75 12 is_stmt 1 view .LVU56
  75:Core/Src/fm_ring_buffer.c ****     	      TX_Buffer.tail = (TX_Buffer.tail + 1) % FM_UART2_BUFFER_SIZE;  
 230              		.loc 1 75 61 is_stmt 0 view .LVU57
 231 0040 0A4A     		ldr	r2, .L18+4
 232 0042 D2F88430 		ldr	r3, [r2, #132]
  75:Core/Src/fm_ring_buffer.c ****     	      TX_Buffer.tail = (TX_Buffer.tail + 1) % FM_UART2_BUFFER_SIZE;  
 233              		.loc 1 75 26 view .LVU58
 234 0046 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 235              	.LVL14:
  76:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
 236              		.loc 1 76 12 is_stmt 1 view .LVU59
  76:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
 237              		.loc 1 76 39 is_stmt 0 view .LVU60
 238 0048 D2F88430 		ldr	r3, [r2, #132]
  76:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
 239              		.loc 1 76 45 view .LVU61
 240 004c 0133     		adds	r3, r3, #1
  76:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
 241              		.loc 1 76 50 view .LVU62
 242 004e 03F07F03 		and	r3, r3, #127
  76:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->SR;
 243              		.loc 1 76 27 view .LVU63
 244 0052 C2F88430 		str	r3, [r2, #132]
  77:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->DR = chr; }
 245              		.loc 1 77 12 is_stmt 1 view .LVU64
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 7


  77:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->DR = chr; }
 246              		.loc 1 77 17 is_stmt 0 view .LVU65
 247 0056 0368     		ldr	r3, [r0]
  77:Core/Src/fm_ring_buffer.c ****     	      huart->Instance->DR = chr; }
 248              		.loc 1 77 27 view .LVU66
 249 0058 1A68     		ldr	r2, [r3]
  78:Core/Src/fm_ring_buffer.c ****         return;    
 250              		.loc 1 78 12 is_stmt 1 view .LVU67
  78:Core/Src/fm_ring_buffer.c ****         return;    
 251              		.loc 1 78 32 is_stmt 0 view .LVU68
 252 005a 5960     		str	r1, [r3, #4]
 253              	.LBE3:
  79:Core/Src/fm_ring_buffer.c ****     }  
 254              		.loc 1 79 9 is_stmt 1 view .LVU69
 255 005c E0E7     		b	.L9
 256              	.LVL15:
 257              	.L17:
  72:Core/Src/fm_ring_buffer.c ****            else {
 258              		.loc 1 72 17 view .LVU70
 259 005e DA68     		ldr	r2, [r3, #12]
 260 0060 22F08002 		bic	r2, r2, #128
 261 0064 DA60     		str	r2, [r3, #12]
 262 0066 DBE7     		b	.L9
 263              	.L19:
 264              		.align	2
 265              	.L18:
 266 0068 00000000 		.word	__RX_RBuffer
 267 006c 00000000 		.word	TX_Buffer
 268              		.cfi_endproc
 269              	.LFE72:
 271              		.section	.text.FM_RBuffer_Receive_Data,"ax",%progbits
 272              		.align	1
 273              		.global	FM_RBuffer_Receive_Data
 274              		.syntax unified
 275              		.thumb
 276              		.thumb_func
 278              	FM_RBuffer_Receive_Data:
 279              	.LFB73:
  82:Core/Src/fm_ring_buffer.c **** 
  83:Core/Src/fm_ring_buffer.c **** uint8_t FM_RBuffer_Receive_Data( void )
  84:Core/Src/fm_ring_buffer.c **** {
 280              		.loc 1 84 1 view -0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 0, uses_anonymous_args = 0
 284              		@ link register save eliminated.
  85:Core/Src/fm_ring_buffer.c ****   // if the head isn't ahead of the tail, we don't have any characters
  86:Core/Src/fm_ring_buffer.c ****   if(__RX_RBuffer->head == __RX_RBuffer->tail) {
 285              		.loc 1 86 3 view .LVU72
 286              		.loc 1 86 18 is_stmt 0 view .LVU73
 287 0000 0A4B     		ldr	r3, .L23
 288 0002 1B68     		ldr	r3, [r3]
 289 0004 D3F88010 		ldr	r1, [r3, #128]
 290              		.loc 1 86 40 view .LVU74
 291 0008 D3F88420 		ldr	r2, [r3, #132]
 292              		.loc 1 86 5 view .LVU75
 293 000c 9142     		cmp	r1, r2
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 8


 294 000e 0AD0     		beq	.L22
 295              	.LBB4:
  87:Core/Src/fm_ring_buffer.c ****     return -1;
  88:Core/Src/fm_ring_buffer.c ****  } else {
  89:Core/Src/fm_ring_buffer.c ****     unsigned char chr = __RX_RBuffer->fm_buffer[__RX_RBuffer->tail];
 296              		.loc 1 89 5 is_stmt 1 view .LVU76
 297              		.loc 1 89 61 is_stmt 0 view .LVU77
 298 0010 D3F88420 		ldr	r2, [r3, #132]
 299              		.loc 1 89 19 view .LVU78
 300 0014 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 301              	.LVL16:
  90:Core/Src/fm_ring_buffer.c ****     __RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;
 302              		.loc 1 90 5 is_stmt 1 view .LVU79
 303              		.loc 1 90 53 is_stmt 0 view .LVU80
 304 0016 D3F88420 		ldr	r2, [r3, #132]
 305              		.loc 1 90 26 view .LVU81
 306 001a 0132     		adds	r2, r2, #1
 307              		.loc 1 90 65 view .LVU82
 308 001c 02F07F02 		and	r2, r2, #127
 309              		.loc 1 90 24 view .LVU83
 310 0020 C3F88420 		str	r2, [r3, #132]
  91:Core/Src/fm_ring_buffer.c ****     return chr;
 311              		.loc 1 91 5 is_stmt 1 view .LVU84
 312              		.loc 1 91 12 is_stmt 0 view .LVU85
 313 0024 7047     		bx	lr
 314              	.LVL17:
 315              	.L22:
 316              		.loc 1 91 12 view .LVU86
 317              	.LBE4:
  87:Core/Src/fm_ring_buffer.c ****     return -1;
 318              		.loc 1 87 12 view .LVU87
 319 0026 FF20     		movs	r0, #255
  92:Core/Src/fm_ring_buffer.c ****   }
  93:Core/Src/fm_ring_buffer.c **** }
 320              		.loc 1 93 1 view .LVU88
 321 0028 7047     		bx	lr
 322              	.L24:
 323 002a 00BF     		.align	2
 324              	.L23:
 325 002c 00000000 		.word	__RX_RBuffer
 326              		.cfi_endproc
 327              	.LFE73:
 329              		.section	.text.FM_RBuffer_Peek,"ax",%progbits
 330              		.align	1
 331              		.global	FM_RBuffer_Peek
 332              		.syntax unified
 333              		.thumb
 334              		.thumb_func
 336              	FM_RBuffer_Peek:
 337              	.LFB74:
  94:Core/Src/fm_ring_buffer.c **** 
  95:Core/Src/fm_ring_buffer.c **** uint8_t FM_RBuffer_Peek( ) {
 338              		.loc 1 95 28 is_stmt 1 view -0
 339              		.cfi_startproc
 340              		@ args = 0, pretend = 0, frame = 0
 341              		@ frame_needed = 0, uses_anonymous_args = 0
 342              		@ link register save eliminated.
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 9


  96:Core/Src/fm_ring_buffer.c ****   if(__RX_RBuffer->head == __RX_RBuffer->tail) 
 343              		.loc 1 96 3 view .LVU90
 344              		.loc 1 96 18 is_stmt 0 view .LVU91
 345 0000 064B     		ldr	r3, .L28
 346 0002 1B68     		ldr	r3, [r3]
 347 0004 D3F88010 		ldr	r1, [r3, #128]
 348              		.loc 1 96 40 view .LVU92
 349 0008 D3F88420 		ldr	r2, [r3, #132]
 350              		.loc 1 96 5 view .LVU93
 351 000c 9142     		cmp	r1, r2
 352 000e 03D0     		beq	.L27
  97:Core/Src/fm_ring_buffer.c ****   {
  98:Core/Src/fm_ring_buffer.c ****         return -1;
  99:Core/Src/fm_ring_buffer.c ****   } else
 100:Core/Src/fm_ring_buffer.c ****    {
 101:Core/Src/fm_ring_buffer.c ****         return __RX_RBuffer->fm_buffer[__RX_RBuffer->tail];
 353              		.loc 1 101 9 is_stmt 1 view .LVU94
 354              		.loc 1 101 52 is_stmt 0 view .LVU95
 355 0010 D3F88420 		ldr	r2, [r3, #132]
 356              		.loc 1 101 39 view .LVU96
 357 0014 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 358 0016 7047     		bx	lr
 359              	.L27:
  98:Core/Src/fm_ring_buffer.c ****   } else
 360              		.loc 1 98 16 view .LVU97
 361 0018 FF20     		movs	r0, #255
 102:Core/Src/fm_ring_buffer.c ****    }
 103:Core/Src/fm_ring_buffer.c **** }
 362              		.loc 1 103 1 view .LVU98
 363 001a 7047     		bx	lr
 364              	.L29:
 365              		.align	2
 366              	.L28:
 367 001c 00000000 		.word	__RX_RBuffer
 368              		.cfi_endproc
 369              	.LFE74:
 371              		.section	.text.FM_RBuffer_Write_Data,"ax",%progbits
 372              		.align	1
 373              		.global	FM_RBuffer_Write_Data
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 378              	FM_RBuffer_Write_Data:
 379              	.LVL18:
 380              	.LFB75:
 104:Core/Src/fm_ring_buffer.c **** 
 105:Core/Src/fm_ring_buffer.c **** 
 106:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_Write_Data( uint8_t chr )
 107:Core/Src/fm_ring_buffer.c **** {
 381              		.loc 1 107 1 is_stmt 1 view -0
 382              		.cfi_startproc
 383              		@ args = 0, pretend = 0, frame = 0
 384              		@ frame_needed = 0, uses_anonymous_args = 0
 385              		@ link register save eliminated.
 108:Core/Src/fm_ring_buffer.c **** 	if (chr>=0)
 386              		.loc 1 108 2 view .LVU100
 387              	.LBB5:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 10


 109:Core/Src/fm_ring_buffer.c **** 	{
 110:Core/Src/fm_ring_buffer.c **** 		int i = (__TX_RBuffer->head + 1) % FM_UART2_BUFFER_SIZE;
 388              		.loc 1 110 3 view .LVU101
 389              		.loc 1 110 24 is_stmt 0 view .LVU102
 390 0000 0C4B     		ldr	r3, .L32
 391 0002 1968     		ldr	r1, [r3]
 392 0004 D1F88020 		ldr	r2, [r1, #128]
 393              		.loc 1 110 31 view .LVU103
 394 0008 0132     		adds	r2, r2, #1
 395 000a 02F07F02 		and	r2, r2, #127
 396              	.LVL19:
 111:Core/Src/fm_ring_buffer.c **** 		while (i == __TX_RBuffer->tail);
 397              		.loc 1 111 3 is_stmt 1 view .LVU104
 398              	.L31:
 399              		.loc 1 111 12 discriminator 1 view .LVU105
 400              		.loc 1 111 27 is_stmt 0 discriminator 1 view .LVU106
 401 000e D1F88430 		ldr	r3, [r1, #132]
 402              		.loc 1 111 12 discriminator 1 view .LVU107
 403 0012 9342     		cmp	r3, r2
 404 0014 FBD0     		beq	.L31
 112:Core/Src/fm_ring_buffer.c **** 
 113:Core/Src/fm_ring_buffer.c **** 		__TX_RBuffer->fm_buffer[__TX_RBuffer->head] = (uint8_t)chr;
 405              		.loc 1 113 3 is_stmt 1 view .LVU108
 406              		.loc 1 113 39 is_stmt 0 view .LVU109
 407 0016 D1F88030 		ldr	r3, [r1, #128]
 408              		.loc 1 113 47 view .LVU110
 409 001a C854     		strb	r0, [r1, r3]
 114:Core/Src/fm_ring_buffer.c **** 		__TX_RBuffer->head = i;
 410              		.loc 1 114 3 is_stmt 1 view .LVU111
 411              		.loc 1 114 15 is_stmt 0 view .LVU112
 412 001c 054B     		ldr	r3, .L32
 413 001e 1B68     		ldr	r3, [r3]
 414              		.loc 1 114 22 view .LVU113
 415 0020 C3F88020 		str	r2, [r3, #128]
 115:Core/Src/fm_ring_buffer.c **** 
 116:Core/Src/fm_ring_buffer.c **** 		__HAL_UART_ENABLE_IT(FM_RBUFFER_UART2, UART_IT_TXE); // Enable UART transmission interrupt
 416              		.loc 1 116 3 is_stmt 1 view .LVU114
 417 0024 044B     		ldr	r3, .L32+4
 418 0026 1A68     		ldr	r2, [r3]
 419              	.LVL20:
 420              		.loc 1 116 3 is_stmt 0 view .LVU115
 421 0028 D368     		ldr	r3, [r2, #12]
 422 002a 43F08003 		orr	r3, r3, #128
 423 002e D360     		str	r3, [r2, #12]
 424              	.LVL21:
 425              		.loc 1 116 3 view .LVU116
 426              	.LBE5:
 117:Core/Src/fm_ring_buffer.c **** 	}
 118:Core/Src/fm_ring_buffer.c **** }
 427              		.loc 1 118 1 view .LVU117
 428 0030 7047     		bx	lr
 429              	.L33:
 430 0032 00BF     		.align	2
 431              	.L32:
 432 0034 00000000 		.word	__TX_RBuffer
 433 0038 00000000 		.word	huart2
 434              		.cfi_endproc
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 11


 435              	.LFE75:
 437              		.section	.text.Uart_printbase,"ax",%progbits
 438              		.align	1
 439              		.global	Uart_printbase
 440              		.syntax unified
 441              		.thumb
 442              		.thumb_func
 444              	Uart_printbase:
 445              	.LVL22:
 446              	.LFB71:
  41:Core/Src/fm_ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 447              		.loc 1 41 1 is_stmt 1 view -0
 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 40
 450              		@ frame_needed = 0, uses_anonymous_args = 0
  41:Core/Src/fm_ring_buffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 451              		.loc 1 41 1 is_stmt 0 view .LVU119
 452 0000 10B5     		push	{r4, lr}
 453              	.LCFI1:
 454              		.cfi_def_cfa_offset 8
 455              		.cfi_offset 4, -8
 456              		.cfi_offset 14, -4
 457 0002 8AB0     		sub	sp, sp, #40
 458              	.LCFI2:
 459              		.cfi_def_cfa_offset 48
  42:Core/Src/fm_ring_buffer.c ****   char *s = &buf[sizeof(buf) - 1];
 460              		.loc 1 42 3 is_stmt 1 view .LVU120
  43:Core/Src/fm_ring_buffer.c ****   *s = '\0';
 461              		.loc 1 43 3 view .LVU121
 462              	.LVL23:
  44:Core/Src/fm_ring_buffer.c ****   // prevent crash if called with base == 1
 463              		.loc 1 44 3 view .LVU122
  44:Core/Src/fm_ring_buffer.c ****   // prevent crash if called with base == 1
 464              		.loc 1 44 6 is_stmt 0 view .LVU123
 465 0004 0023     		movs	r3, #0
 466 0006 8DF82430 		strb	r3, [sp, #36]
  46:Core/Src/fm_ring_buffer.c ****   do {
 467              		.loc 1 46 3 is_stmt 1 view .LVU124
  46:Core/Src/fm_ring_buffer.c ****   do {
 468              		.loc 1 46 6 is_stmt 0 view .LVU125
 469 000a 0129     		cmp	r1, #1
 470 000c 01D9     		bls	.L43
 471              	.LVL24:
 472              	.L35:
  46:Core/Src/fm_ring_buffer.c ****   do {
 473              		.loc 1 46 22 discriminator 1 view .LVU126
 474 000e 09AC     		add	r4, sp, #36
 475              	.LVL25:
  46:Core/Src/fm_ring_buffer.c ****   do {
 476              		.loc 1 46 22 discriminator 1 view .LVU127
 477 0010 06E0     		b	.L38
 478              	.LVL26:
 479              	.L43:
  46:Core/Src/fm_ring_buffer.c ****   do {
 480              		.loc 1 46 22 discriminator 1 view .LVU128
 481 0012 0A21     		movs	r1, #10
 482              	.LVL27:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 12


  46:Core/Src/fm_ring_buffer.c ****   do {
 483              		.loc 1 46 22 discriminator 1 view .LVU129
 484 0014 FBE7     		b	.L35
 485              	.LVL28:
 486              	.L44:
 487              	.LBB6:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 488              		.loc 1 51 10 discriminator 1 view .LVU130
 489 0016 3033     		adds	r3, r3, #48
 490              	.LVL29:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 491              		.loc 1 51 10 discriminator 1 view .LVU131
 492 0018 DBB2     		uxtb	r3, r3
 493              	.LVL30:
 494              	.L37:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 495              		.loc 1 51 10 discriminator 4 view .LVU132
 496 001a 04F8013D 		strb	r3, [r4, #-1]!
 497              	.LVL31:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 498              		.loc 1 51 10 discriminator 4 view .LVU133
 499              	.LBE6:
  52:Core/Src/fm_ring_buffer.c ****   while(*s) FM_RBuffer_Write_Data(*s++);
 500              		.loc 1 52 11 is_stmt 1 view .LVU134
 501 001e 80B1     		cbz	r0, .L39
 502              	.LVL32:
 503              	.L38:
  47:Core/Src/fm_ring_buffer.c ****     unsigned long m = n;
 504              		.loc 1 47 3 view .LVU135
 505              	.LBB7:
  48:Core/Src/fm_ring_buffer.c ****     n /= base;
 506              		.loc 1 48 5 view .LVU136
  49:Core/Src/fm_ring_buffer.c ****     char c = m - base * n;
 507              		.loc 1 49 5 view .LVU137
 508 0020 0346     		mov	r3, r0
  49:Core/Src/fm_ring_buffer.c ****     char c = m - base * n;
 509              		.loc 1 49 7 is_stmt 0 view .LVU138
 510 0022 90FBF1F0 		sdiv	r0, r0, r1
 511              	.LVL33:
  50:Core/Src/fm_ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 512              		.loc 1 50 5 is_stmt 1 view .LVU139
  50:Core/Src/fm_ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 513              		.loc 1 50 16 is_stmt 0 view .LVU140
 514 0026 DBB2     		uxtb	r3, r3
 515              	.LVL34:
  50:Core/Src/fm_ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 516              		.loc 1 50 16 view .LVU141
 517 0028 00FB01F2 		mul	r2, r0, r1
 518 002c D2B2     		uxtb	r2, r2
  50:Core/Src/fm_ring_buffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 519              		.loc 1 50 10 view .LVU142
 520 002e 9B1A     		subs	r3, r3, r2
 521 0030 DBB2     		uxtb	r3, r3
 522              	.LVL35:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 523              		.loc 1 51 5 is_stmt 1 view .LVU143
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 13


 524              		.loc 1 51 10 is_stmt 0 view .LVU144
 525 0032 092B     		cmp	r3, #9
 526 0034 EFD9     		bls	.L44
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 527              		.loc 1 51 10 discriminator 2 view .LVU145
 528 0036 3733     		adds	r3, r3, #55
 529              	.LVL36:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 530              		.loc 1 51 10 discriminator 2 view .LVU146
 531 0038 DBB2     		uxtb	r3, r3
 532              	.LVL37:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 533              		.loc 1 51 10 discriminator 2 view .LVU147
 534 003a EEE7     		b	.L37
 535              	.LVL38:
 536              	.L40:
  51:Core/Src/fm_ring_buffer.c ****   } while(n);
 537              		.loc 1 51 10 discriminator 2 view .LVU148
 538              	.LBE7:
  53:Core/Src/fm_ring_buffer.c **** }
 539              		.loc 1 53 13 is_stmt 1 discriminator 2 view .LVU149
  53:Core/Src/fm_ring_buffer.c **** }
 540              		.loc 1 53 37 is_stmt 0 discriminator 2 view .LVU150
 541 003c 0134     		adds	r4, r4, #1
 542              	.LVL39:
  53:Core/Src/fm_ring_buffer.c **** }
 543              		.loc 1 53 13 discriminator 2 view .LVU151
 544 003e FFF7FEFF 		bl	FM_RBuffer_Write_Data
 545              	.LVL40:
 546              	.L39:
  53:Core/Src/fm_ring_buffer.c **** }
 547              		.loc 1 53 9 is_stmt 1 discriminator 1 view .LVU152
 548 0042 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 549 0044 0028     		cmp	r0, #0
 550 0046 F9D1     		bne	.L40
  54:Core/Src/fm_ring_buffer.c **** 
 551              		.loc 1 54 1 is_stmt 0 view .LVU153
 552 0048 0AB0     		add	sp, sp, #40
 553              	.LCFI3:
 554              		.cfi_def_cfa_offset 8
 555              		@ sp needed
 556 004a 10BD     		pop	{r4, pc}
  54:Core/Src/fm_ring_buffer.c **** 
 557              		.loc 1 54 1 view .LVU154
 558              		.cfi_endproc
 559              	.LFE71:
 561              		.section	.text.FM_RBuffer_Waiting,"ax",%progbits
 562              		.align	1
 563              		.global	FM_RBuffer_Waiting
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 568              	FM_RBuffer_Waiting:
 569              	.LVL41:
 570              	.LFB76:
 119:Core/Src/fm_ring_buffer.c **** 
 120:Core/Src/fm_ring_buffer.c **** uint8_t  FM_RBuffer_Waiting( char *str ){
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 14


 571              		.loc 1 120 41 is_stmt 1 view -0
 572              		.cfi_startproc
 573              		@ args = 0, pretend = 0, frame = 0
 574              		@ frame_needed = 0, uses_anonymous_args = 0
 575              		.loc 1 120 41 is_stmt 0 view .LVU156
 576 0000 70B5     		push	{r4, r5, r6, lr}
 577              	.LCFI4:
 578              		.cfi_def_cfa_offset 16
 579              		.cfi_offset 4, -16
 580              		.cfi_offset 5, -12
 581              		.cfi_offset 6, -8
 582              		.cfi_offset 14, -4
 583 0002 0446     		mov	r4, r0
 121:Core/Src/fm_ring_buffer.c **** 	uint16_t l_waitting = 0;
 584              		.loc 1 121 2 is_stmt 1 view .LVU157
 585              	.LVL42:
 122:Core/Src/fm_ring_buffer.c **** 	uint16_t l_len = strlen ( str );
 586              		.loc 1 122 2 view .LVU158
 587              		.loc 1 122 19 is_stmt 0 view .LVU159
 588 0004 FFF7FEFF 		bl	strlen
 589              	.LVL43:
 590              		.loc 1 122 11 discriminator 1 view .LVU160
 591 0008 85B2     		uxth	r5, r0
 592              	.LVL44:
 593              	.L46:
 123:Core/Src/fm_ring_buffer.c **** 
 124:Core/Src/fm_ring_buffer.c **** again:
 125:Core/Src/fm_ring_buffer.c **** 	FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 594              		.loc 1 125 2 is_stmt 1 view .LVU161
 595              		.loc 1 125 21 is_stmt 0 view .LVU162
 596 000a 2A4B     		ldr	r3, .L63
 597 000c 4FF4FA72 		mov	r2, #500
 598 0010 1A80     		strh	r2, [r3]	@ movhi
 126:Core/Src/fm_ring_buffer.c **** 	while ((!FM_RBuffer_Checking_Data_Is_Available()) && FM_RBUFFER_TIMEOUT );  // let's wait for the 
 599              		.loc 1 126 2 is_stmt 1 view .LVU163
 600              	.L48:
 601              		.loc 1 126 52 discriminator 2 view .LVU164
 602              		.loc 1 126 11 is_stmt 0 discriminator 2 view .LVU165
 603 0012 FFF7FEFF 		bl	FM_RBuffer_Checking_Data_Is_Available
 604              	.LVL45:
 605              		.loc 1 126 52 discriminator 2 view .LVU166
 606 0016 18B9     		cbnz	r0, .L47
 607              		.loc 1 126 52 discriminator 1 view .LVU167
 608 0018 264B     		ldr	r3, .L63
 609 001a 1B88     		ldrh	r3, [r3]
 610 001c 002B     		cmp	r3, #0
 611 001e F8D1     		bne	.L48
 612              	.L47:
 127:Core/Src/fm_ring_buffer.c **** 	if (FM_RBUFFER_TIMEOUT == 0) return 0;    
 613              		.loc 1 127 2 is_stmt 1 view .LVU168
 614              		.loc 1 127 25 is_stmt 0 view .LVU169
 615 0020 244B     		ldr	r3, .L63
 616 0022 1B88     		ldrh	r3, [r3]
 617              		.loc 1 127 5 view .LVU170
 618 0024 002B     		cmp	r3, #0
 619 0026 3ED0     		beq	.L60
 620              	.L50:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 15


 128:Core/Src/fm_ring_buffer.c **** 	while ( FM_RBuffer_Peek() != str[ l_waitting ] )  // peek in the rx_buffer to see if we get the st
 621              		.loc 1 128 28 is_stmt 1 view .LVU171
 622              		.loc 1 128 10 is_stmt 0 view .LVU172
 623 0028 FFF7FEFF 		bl	FM_RBuffer_Peek
 624              	.LVL46:
 625              		.loc 1 128 28 discriminator 1 view .LVU173
 626 002c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 627 002e 8342     		cmp	r3, r0
 628 0030 0FD0     		beq	.L61
 129:Core/Src/fm_ring_buffer.c **** 	{
 130:Core/Src/fm_ring_buffer.c **** 		if (__RX_RBuffer->tail != __RX_RBuffer->head)
 629              		.loc 1 130 3 is_stmt 1 view .LVU174
 630              		.loc 1 130 19 is_stmt 0 view .LVU175
 631 0032 214B     		ldr	r3, .L63+4
 632 0034 1A68     		ldr	r2, [r3]
 633 0036 D2F88410 		ldr	r1, [r2, #132]
 634              		.loc 1 130 41 view .LVU176
 635 003a D2F88030 		ldr	r3, [r2, #128]
 636              		.loc 1 130 6 view .LVU177
 637 003e 9942     		cmp	r1, r3
 638 0040 33D0     		beq	.L57
 131:Core/Src/fm_ring_buffer.c **** 		{
 132:Core/Src/fm_ring_buffer.c **** 			__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;  // incremen
 639              		.loc 1 132 4 is_stmt 1 view .LVU178
 640              		.loc 1 132 52 is_stmt 0 view .LVU179
 641 0042 D2F88430 		ldr	r3, [r2, #132]
 642              		.loc 1 132 25 view .LVU180
 643 0046 0133     		adds	r3, r3, #1
 644              		.loc 1 132 64 view .LVU181
 645 0048 03F07F03 		and	r3, r3, #127
 646              		.loc 1 132 23 view .LVU182
 647 004c C2F88430 		str	r3, [r2, #132]
 648 0050 EAE7     		b	.L50
 649              	.L61:
 650 0052 0026     		movs	r6, #0
 651 0054 02E0     		b	.L52
 652              	.LVL47:
 653              	.L53:
 133:Core/Src/fm_ring_buffer.c **** 		}
 134:Core/Src/fm_ring_buffer.c ****         		else
 135:Core/Src/fm_ring_buffer.c **** 		{
 136:Core/Src/fm_ring_buffer.c **** 			return 0;
 137:Core/Src/fm_ring_buffer.c **** 		}
 138:Core/Src/fm_ring_buffer.c **** 	}
 139:Core/Src/fm_ring_buffer.c **** 	while (FM_RBuffer_Peek() == str [ l_waitting ]) // if we got the first letter of the string
 140:Core/Src/fm_ring_buffer.c **** 	{
 141:Core/Src/fm_ring_buffer.c **** 		// now we will peek for the other letters too
 142:Core/Src/fm_ring_buffer.c **** 		l_waitting++;
 143:Core/Src/fm_ring_buffer.c **** 		__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;  // increment
 144:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 145:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 146:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 654              		.loc 1 146 3 is_stmt 1 view .LVU183
 655              		.loc 1 146 26 is_stmt 0 view .LVU184
 656 0056 174B     		ldr	r3, .L63
 657 0058 1B88     		ldrh	r3, [r3]
 658              		.loc 1 146 6 view .LVU185
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 16


 659 005a 43B3     		cbz	r3, .L58
 660              	.LVL48:
 661              	.L52:
 139:Core/Src/fm_ring_buffer.c **** 	{
 662              		.loc 1 139 27 is_stmt 1 view .LVU186
 139:Core/Src/fm_ring_buffer.c **** 	{
 663              		.loc 1 139 9 is_stmt 0 view .LVU187
 664 005c FFF7FEFF 		bl	FM_RBuffer_Peek
 665              	.LVL49:
 139:Core/Src/fm_ring_buffer.c **** 	{
 666              		.loc 1 139 27 discriminator 1 view .LVU188
 667 0060 A35D     		ldrb	r3, [r4, r6]	@ zero_extendqisi2
 668 0062 8342     		cmp	r3, r0
 669 0064 17D1     		bne	.L62
 142:Core/Src/fm_ring_buffer.c **** 		__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;  // increment
 670              		.loc 1 142 3 is_stmt 1 view .LVU189
 142:Core/Src/fm_ring_buffer.c **** 		__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;  // increment
 671              		.loc 1 142 13 is_stmt 0 view .LVU190
 672 0066 0136     		adds	r6, r6, #1
 673              	.LVL50:
 142:Core/Src/fm_ring_buffer.c **** 		__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;  // increment
 674              		.loc 1 142 13 view .LVU191
 675 0068 B6B2     		uxth	r6, r6
 676              	.LVL51:
 143:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 677              		.loc 1 143 3 is_stmt 1 view .LVU192
 143:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 678              		.loc 1 143 51 is_stmt 0 view .LVU193
 679 006a 134B     		ldr	r3, .L63+4
 680 006c 1A68     		ldr	r2, [r3]
 681 006e D2F88430 		ldr	r3, [r2, #132]
 143:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 682              		.loc 1 143 24 view .LVU194
 683 0072 0133     		adds	r3, r3, #1
 143:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 684              		.loc 1 143 63 view .LVU195
 685 0074 03F07F03 		and	r3, r3, #127
 143:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 686              		.loc 1 143 22 view .LVU196
 687 0078 C2F88430 		str	r3, [r2, #132]
 144:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 688              		.loc 1 144 3 is_stmt 1 view .LVU197
 144:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 689              		.loc 1 144 22 is_stmt 0 view .LVU198
 690 007c 0D4B     		ldr	r3, .L63
 691 007e 4FF4FA72 		mov	r2, #500
 692 0082 1A80     		strh	r2, [r3]	@ movhi
 145:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 693              		.loc 1 145 3 is_stmt 1 view .LVU199
 694              	.L54:
 145:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 695              		.loc 1 145 52 discriminator 2 view .LVU200
 145:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 696              		.loc 1 145 12 is_stmt 0 discriminator 2 view .LVU201
 697 0084 FFF7FEFF 		bl	FM_RBuffer_Checking_Data_Is_Available
 698              	.LVL52:
 145:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 17


 699              		.loc 1 145 52 discriminator 2 view .LVU202
 700 0088 0028     		cmp	r0, #0
 701 008a E4D1     		bne	.L53
 145:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 702              		.loc 1 145 52 discriminator 1 view .LVU203
 703 008c 094B     		ldr	r3, .L63
 704 008e 1B88     		ldrh	r3, [r3]
 705 0090 002B     		cmp	r3, #0
 706 0092 F7D1     		bne	.L54
 707 0094 DFE7     		b	.L53
 708              	.L62:
 147:Core/Src/fm_ring_buffer.c **** 	}
 148:Core/Src/fm_ring_buffer.c **** 
 149:Core/Src/fm_ring_buffer.c **** 	if (l_waitting != l_len)
 709              		.loc 1 149 2 is_stmt 1 view .LVU204
 710              		.loc 1 149 5 is_stmt 0 view .LVU205
 711 0096 AE42     		cmp	r6, r5
 712 0098 B7D1     		bne	.L46
 150:Core/Src/fm_ring_buffer.c **** 	{
 151:Core/Src/fm_ring_buffer.c **** 		l_waitting = 0;
 152:Core/Src/fm_ring_buffer.c **** 		goto again;
 153:Core/Src/fm_ring_buffer.c **** 	}
 154:Core/Src/fm_ring_buffer.c **** 
 155:Core/Src/fm_ring_buffer.c **** 	if (l_waitting == l_len) {
 713              		.loc 1 155 2 is_stmt 1 view .LVU206
 156:Core/Src/fm_ring_buffer.c ****             return __RX_RBuffer->tail ;     
 714              		.loc 1 156 13 view .LVU207
 715              		.loc 1 156 32 is_stmt 0 view .LVU208
 716 009a 074B     		ldr	r3, .L63+4
 717 009c 1B68     		ldr	r3, [r3]
 718 009e D3F88400 		ldr	r0, [r3, #132]
 719 00a2 C0B2     		uxtb	r0, r0
 720 00a4 02E0     		b	.L49
 721              	.LVL53:
 722              	.L60:
 127:Core/Src/fm_ring_buffer.c **** 	while ( FM_RBuffer_Peek() != str[ l_waitting ] )  // peek in the rx_buffer to see if we get the st
 723              		.loc 1 127 38 discriminator 1 view .LVU209
 724 00a6 0020     		movs	r0, #0
 725 00a8 00E0     		b	.L49
 726              	.L57:
 136:Core/Src/fm_ring_buffer.c **** 		}
 727              		.loc 1 136 11 view .LVU210
 728 00aa 0020     		movs	r0, #0
 729              	.LVL54:
 730              	.L49:
 157:Core/Src/fm_ring_buffer.c ****     } else {
 158:Core/Src/fm_ring_buffer.c ****         return 0;}
 159:Core/Src/fm_ring_buffer.c **** }
 731              		.loc 1 159 1 view .LVU211
 732 00ac 70BD     		pop	{r4, r5, r6, pc}
 733              	.LVL55:
 734              	.L58:
 146:Core/Src/fm_ring_buffer.c **** 	}
 735              		.loc 1 146 39 discriminator 1 view .LVU212
 736 00ae 0020     		movs	r0, #0
 737 00b0 FCE7     		b	.L49
 738              	.L64:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 18


 739 00b2 00BF     		.align	2
 740              	.L63:
 741 00b4 00000000 		.word	FM_RBUFFER_TIMEOUT
 742 00b8 00000000 		.word	__RX_RBuffer
 743              		.cfi_endproc
 744              	.LFE76:
 746              		.section	.text.FM_RBuffer_Erase_Buffer,"ax",%progbits
 747              		.align	1
 748              		.global	FM_RBuffer_Erase_Buffer
 749              		.syntax unified
 750              		.thumb
 751              		.thumb_func
 753              	FM_RBuffer_Erase_Buffer:
 754              	.LFB77:
 160:Core/Src/fm_ring_buffer.c **** 
 161:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_Erase_Buffer (void ){
 755              		.loc 1 161 40 is_stmt 1 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759 0000 10B5     		push	{r4, lr}
 760              	.LCFI5:
 761              		.cfi_def_cfa_offset 8
 762              		.cfi_offset 4, -8
 763              		.cfi_offset 14, -4
 162:Core/Src/fm_ring_buffer.c ****             memset(__RX_RBuffer->fm_buffer,'\0', FM_UART2_BUFFER_SIZE);
 764              		.loc 1 162 13 view .LVU214
 765              		.loc 1 162 32 is_stmt 0 view .LVU215
 766 0002 064C     		ldr	r4, .L67
 767              		.loc 1 162 13 view .LVU216
 768 0004 8022     		movs	r2, #128
 769 0006 0021     		movs	r1, #0
 770 0008 2068     		ldr	r0, [r4]
 771 000a FFF7FEFF 		bl	memset
 772              	.LVL56:
 163:Core/Src/fm_ring_buffer.c **** 	        __RX_RBuffer->head = 0;
 773              		.loc 1 163 10 is_stmt 1 view .LVU217
 774              		.loc 1 163 22 is_stmt 0 view .LVU218
 775 000e 2368     		ldr	r3, [r4]
 776              		.loc 1 163 29 view .LVU219
 777 0010 0022     		movs	r2, #0
 778 0012 C3F88020 		str	r2, [r3, #128]
 164:Core/Src/fm_ring_buffer.c **** 	        __RX_RBuffer->tail = 0;
 779              		.loc 1 164 10 is_stmt 1 view .LVU220
 780              		.loc 1 164 29 is_stmt 0 view .LVU221
 781 0016 C3F88420 		str	r2, [r3, #132]
 165:Core/Src/fm_ring_buffer.c **** 
 166:Core/Src/fm_ring_buffer.c **** }
 782              		.loc 1 166 1 view .LVU222
 783 001a 10BD     		pop	{r4, pc}
 784              	.L68:
 785              		.align	2
 786              	.L67:
 787 001c 00000000 		.word	__RX_RBuffer
 788              		.cfi_endproc
 789              	.LFE77:
 791              		.section	.text.FM_RBuffer_Get_Data_From_Buffer,"ax",%progbits
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 19


 792              		.align	1
 793              		.global	FM_RBuffer_Get_Data_From_Buffer
 794              		.syntax unified
 795              		.thumb
 796              		.thumb_func
 798              	FM_RBuffer_Get_Data_From_Buffer:
 799              	.LVL57:
 800              	.LFB78:
 167:Core/Src/fm_ring_buffer.c **** 
 168:Core/Src/fm_ring_buffer.c **** 
 169:Core/Src/fm_ring_buffer.c **** void    FM_RBuffer_Get_Data_From_Buffer(char *startString, char *endString, char *buffertocopyfrom,
 170:Core/Src/fm_ring_buffer.c **** {
 801              		.loc 1 170 1 is_stmt 1 view -0
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 0
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 805              		.loc 1 170 1 is_stmt 0 view .LVU224
 806 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 807              	.LCFI6:
 808              		.cfi_def_cfa_offset 24
 809              		.cfi_offset 4, -24
 810              		.cfi_offset 5, -20
 811              		.cfi_offset 6, -16
 812              		.cfi_offset 7, -12
 813              		.cfi_offset 8, -8
 814              		.cfi_offset 14, -4
 815 0004 0746     		mov	r7, r0
 816 0006 0E46     		mov	r6, r1
 817 0008 1446     		mov	r4, r2
 818 000a 1D46     		mov	r5, r3
 171:Core/Src/fm_ring_buffer.c **** 	int startStringLength = strlen (startString);
 819              		.loc 1 171 2 is_stmt 1 view .LVU225
 820              		.loc 1 171 26 is_stmt 0 view .LVU226
 821 000c FFF7FEFF 		bl	strlen
 822              	.LVL58:
 823              		.loc 1 171 26 view .LVU227
 824 0010 8046     		mov	r8, r0
 825              	.LVL59:
 172:Core/Src/fm_ring_buffer.c **** 	int endStringLength   = strlen (endString);
 826              		.loc 1 172 2 is_stmt 1 view .LVU228
 827              		.loc 1 172 26 is_stmt 0 view .LVU229
 828 0012 3046     		mov	r0, r6
 829              	.LVL60:
 830              		.loc 1 172 26 view .LVU230
 831 0014 FFF7FEFF 		bl	strlen
 832              	.LVL61:
 173:Core/Src/fm_ring_buffer.c **** 	int so_far = 0;
 833              		.loc 1 173 2 is_stmt 1 view .LVU231
 174:Core/Src/fm_ring_buffer.c **** 	int indx = 0;
 834              		.loc 1 174 2 view .LVU232
 175:Core/Src/fm_ring_buffer.c **** 	int startposition = 0;
 835              		.loc 1 175 2 view .LVU233
 176:Core/Src/fm_ring_buffer.c **** 	int endposition = 0;
 836              		.loc 1 176 2 view .LVU234
 174:Core/Src/fm_ring_buffer.c **** 	int indx = 0;
 837              		.loc 1 174 6 is_stmt 0 view .LVU235
 838 0018 4FF0000C 		mov	ip, #0
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 20


 839 001c 0EE0     		b	.L70
 840              	.LVL62:
 841              	.L85:
 174:Core/Src/fm_ring_buffer.c **** 	int indx = 0;
 842              		.loc 1 174 6 view .LVU236
 843 001e 4FF0000E 		mov	lr, #0
 844 0022 03E0     		b	.L73
 845              	.LVL63:
 846              	.L74:
 177:Core/Src/fm_ring_buffer.c **** 
 178:Core/Src/fm_ring_buffer.c **** repeat1:
 179:Core/Src/fm_ring_buffer.c **** 	while (startString[so_far] != buffertocopyfrom[indx]) indx++;
 180:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 181:Core/Src/fm_ring_buffer.c **** 	{
 182:Core/Src/fm_ring_buffer.c **** 		while (startString[so_far] == buffertocopyfrom[indx])
 183:Core/Src/fm_ring_buffer.c **** 		{
 184:Core/Src/fm_ring_buffer.c **** 			so_far++;
 847              		.loc 1 184 4 is_stmt 1 view .LVU237
 848              		.loc 1 184 10 is_stmt 0 view .LVU238
 849 0024 0EF1010E 		add	lr, lr, #1
 850              	.LVL64:
 185:Core/Src/fm_ring_buffer.c **** 			indx++;
 851              		.loc 1 185 4 is_stmt 1 view .LVU239
 852              		.loc 1 185 8 is_stmt 0 view .LVU240
 853 0028 0CF1010C 		add	ip, ip, #1
 854              	.LVL65:
 855              	.L73:
 182:Core/Src/fm_ring_buffer.c **** 		{
 856              		.loc 1 182 30 is_stmt 1 view .LVU241
 182:Core/Src/fm_ring_buffer.c **** 		{
 857              		.loc 1 182 21 is_stmt 0 view .LVU242
 858 002c 17F80E20 		ldrb	r2, [r7, lr]	@ zero_extendqisi2
 182:Core/Src/fm_ring_buffer.c **** 		{
 859              		.loc 1 182 49 view .LVU243
 860 0030 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 182:Core/Src/fm_ring_buffer.c **** 		{
 861              		.loc 1 182 30 view .LVU244
 862 0034 9A42     		cmp	r2, r3
 863 0036 F5D0     		beq	.L74
 186:Core/Src/fm_ring_buffer.c **** 		}
 187:Core/Src/fm_ring_buffer.c **** 	}
 188:Core/Src/fm_ring_buffer.c **** 
 189:Core/Src/fm_ring_buffer.c **** 	if (so_far == startStringLength) startposition = indx;
 864              		.loc 1 189 2 is_stmt 1 view .LVU245
 865              		.loc 1 189 5 is_stmt 0 view .LVU246
 866 0038 C645     		cmp	lr, r8
 867 003a 10D0     		beq	.L84
 868              	.L71:
 869              	.LVL66:
 870              	.L70:
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 871              		.loc 1 179 29 is_stmt 1 discriminator 1 view .LVU247
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 872              		.loc 1 179 20 is_stmt 0 discriminator 1 view .LVU248
 873 003c 3A78     		ldrb	r2, [r7]	@ zero_extendqisi2
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 874              		.loc 1 179 48 discriminator 1 view .LVU249
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 21


 875 003e 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 876              		.loc 1 179 29 discriminator 1 view .LVU250
 877 0042 9A42     		cmp	r2, r3
 878 0044 EBD0     		beq	.L85
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 879              		.loc 1 179 56 is_stmt 1 discriminator 2 view .LVU251
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 880              		.loc 1 179 60 is_stmt 0 discriminator 2 view .LVU252
 881 0046 0CF1010C 		add	ip, ip, #1
 882              	.LVL67:
 179:Core/Src/fm_ring_buffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 883              		.loc 1 179 60 discriminator 2 view .LVU253
 884 004a F7E7     		b	.L70
 885              	.LVL68:
 886              	.L77:
 190:Core/Src/fm_ring_buffer.c **** 	else
 191:Core/Src/fm_ring_buffer.c **** 	{
 192:Core/Src/fm_ring_buffer.c **** 		so_far =0;
 193:Core/Src/fm_ring_buffer.c **** 		goto repeat1;
 194:Core/Src/fm_ring_buffer.c **** 	}
 195:Core/Src/fm_ring_buffer.c **** 
 196:Core/Src/fm_ring_buffer.c **** 	so_far = 0;
 197:Core/Src/fm_ring_buffer.c **** 
 198:Core/Src/fm_ring_buffer.c **** repeat2:
 199:Core/Src/fm_ring_buffer.c **** 	while (endString[so_far] != buffertocopyfrom[indx]) indx++;
 887              		.loc 1 199 54 is_stmt 1 discriminator 2 view .LVU254
 888              		.loc 1 199 58 is_stmt 0 discriminator 2 view .LVU255
 889 004c 0EF1010E 		add	lr, lr, #1
 890              	.LVL69:
 891              	.L75:
 892              		.loc 1 199 27 is_stmt 1 discriminator 1 view .LVU256
 893              		.loc 1 199 18 is_stmt 0 discriminator 1 view .LVU257
 894 0050 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 895              		.loc 1 199 46 discriminator 1 view .LVU258
 896 0052 14F80E30 		ldrb	r3, [r4, lr]	@ zero_extendqisi2
 897              		.loc 1 199 27 discriminator 1 view .LVU259
 898 0056 9A42     		cmp	r2, r3
 899 0058 F8D1     		bne	.L77
 900              		.loc 1 199 27 discriminator 1 view .LVU260
 901 005a 0023     		movs	r3, #0
 902 005c 04E0     		b	.L78
 903              	.L76:
 904              	.LVL70:
 905              	.L84:
 906              		.loc 1 199 27 discriminator 1 view .LVU261
 907 005e E646     		mov	lr, ip
 908              	.LVL71:
 909              		.loc 1 199 27 discriminator 1 view .LVU262
 910 0060 F6E7     		b	.L75
 911              	.LVL72:
 912              	.L79:
 200:Core/Src/fm_ring_buffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 201:Core/Src/fm_ring_buffer.c **** 	{
 202:Core/Src/fm_ring_buffer.c **** 		while (endString[so_far] == buffertocopyfrom[indx])
 203:Core/Src/fm_ring_buffer.c **** 		{
 204:Core/Src/fm_ring_buffer.c **** 			so_far++;
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 22


 913              		.loc 1 204 4 is_stmt 1 view .LVU263
 914              		.loc 1 204 10 is_stmt 0 view .LVU264
 915 0062 0133     		adds	r3, r3, #1
 916              	.LVL73:
 205:Core/Src/fm_ring_buffer.c **** 			indx++;
 917              		.loc 1 205 4 is_stmt 1 view .LVU265
 918              		.loc 1 205 8 is_stmt 0 view .LVU266
 919 0064 0EF1010E 		add	lr, lr, #1
 920              	.LVL74:
 921              	.L78:
 202:Core/Src/fm_ring_buffer.c **** 		{
 922              		.loc 1 202 28 is_stmt 1 view .LVU267
 202:Core/Src/fm_ring_buffer.c **** 		{
 923              		.loc 1 202 19 is_stmt 0 view .LVU268
 924 0068 F15C     		ldrb	r1, [r6, r3]	@ zero_extendqisi2
 202:Core/Src/fm_ring_buffer.c **** 		{
 925              		.loc 1 202 47 view .LVU269
 926 006a 14F80E20 		ldrb	r2, [r4, lr]	@ zero_extendqisi2
 202:Core/Src/fm_ring_buffer.c **** 		{
 927              		.loc 1 202 28 view .LVU270
 928 006e 9142     		cmp	r1, r2
 929 0070 F7D0     		beq	.L79
 206:Core/Src/fm_ring_buffer.c **** 		}
 207:Core/Src/fm_ring_buffer.c **** 	}
 208:Core/Src/fm_ring_buffer.c **** 
 209:Core/Src/fm_ring_buffer.c **** 	if (so_far == endStringLength) endposition = indx-endStringLength;
 930              		.loc 1 209 2 is_stmt 1 view .LVU271
 931              		.loc 1 209 5 is_stmt 0 view .LVU272
 932 0072 8342     		cmp	r3, r0
 933 0074 ECD1     		bne	.L75
 934              		.loc 1 209 33 is_stmt 1 discriminator 1 view .LVU273
 935              		.loc 1 209 45 is_stmt 0 discriminator 1 view .LVU274
 936 0076 AEEB000E 		sub	lr, lr, r0
 937              	.LVL75:
 210:Core/Src/fm_ring_buffer.c **** 	else
 211:Core/Src/fm_ring_buffer.c **** 	{
 212:Core/Src/fm_ring_buffer.c **** 		so_far =0;
 213:Core/Src/fm_ring_buffer.c **** 		goto repeat2;
 214:Core/Src/fm_ring_buffer.c **** 	}
 215:Core/Src/fm_ring_buffer.c **** 
 216:Core/Src/fm_ring_buffer.c **** 	so_far = 0;
 938              		.loc 1 216 2 is_stmt 1 view .LVU275
 217:Core/Src/fm_ring_buffer.c **** 	indx=0;
 939              		.loc 1 217 2 view .LVU276
 218:Core/Src/fm_ring_buffer.c **** 
 219:Core/Src/fm_ring_buffer.c **** 	for (int i=startposition; i<endposition; i++)
 940              		.loc 1 219 2 view .LVU277
 941              	.LBB8:
 942              		.loc 1 219 7 view .LVU278
 943              		.loc 1 219 7 is_stmt 0 view .LVU279
 944              	.LBE8:
 217:Core/Src/fm_ring_buffer.c **** 	indx=0;
 945              		.loc 1 217 6 view .LVU280
 946 007a 0023     		movs	r3, #0
 947              	.LBB9:
 948              		.loc 1 219 2 view .LVU281
 949 007c 05E0     		b	.L80
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 23


 950              	.LVL76:
 951              	.L81:
 220:Core/Src/fm_ring_buffer.c **** 	{
 221:Core/Src/fm_ring_buffer.c **** 		buffertocopyinto[indx] = buffertocopyfrom[i];
 952              		.loc 1 221 3 is_stmt 1 view .LVU282
 953              		.loc 1 221 44 is_stmt 0 view .LVU283
 954 007e 14F80C20 		ldrb	r2, [r4, ip]	@ zero_extendqisi2
 955              		.loc 1 221 26 view .LVU284
 956 0082 EA54     		strb	r2, [r5, r3]
 222:Core/Src/fm_ring_buffer.c **** 		indx++;
 957              		.loc 1 222 3 is_stmt 1 view .LVU285
 958              		.loc 1 222 7 is_stmt 0 view .LVU286
 959 0084 0133     		adds	r3, r3, #1
 960              	.LVL77:
 219:Core/Src/fm_ring_buffer.c **** 	{
 961              		.loc 1 219 44 is_stmt 1 discriminator 3 view .LVU287
 962 0086 0CF1010C 		add	ip, ip, #1
 963              	.LVL78:
 964              	.L80:
 219:Core/Src/fm_ring_buffer.c **** 	{
 965              		.loc 1 219 29 discriminator 1 view .LVU288
 966 008a F445     		cmp	ip, lr
 967 008c F7DB     		blt	.L81
 219:Core/Src/fm_ring_buffer.c **** 	{
 968              		.loc 1 219 29 is_stmt 0 discriminator 1 view .LVU289
 969              	.LBE9:
 223:Core/Src/fm_ring_buffer.c **** 	}
 224:Core/Src/fm_ring_buffer.c **** }
 970              		.loc 1 224 1 view .LVU290
 971 008e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 972              		.loc 1 224 1 view .LVU291
 973              		.cfi_endproc
 974              	.LFE78:
 976              		.section	.text.Copy_upto,"ax",%progbits
 977              		.align	1
 978              		.global	Copy_upto
 979              		.syntax unified
 980              		.thumb
 981              		.thumb_func
 983              	Copy_upto:
 984              	.LVL79:
 985              	.LFB79:
 225:Core/Src/fm_ring_buffer.c **** 
 226:Core/Src/fm_ring_buffer.c **** int Copy_upto (char *string, char *buffertocopyinto)
 227:Core/Src/fm_ring_buffer.c **** {
 986              		.loc 1 227 1 is_stmt 1 view -0
 987              		.cfi_startproc
 988              		@ args = 0, pretend = 0, frame = 0
 989              		@ frame_needed = 0, uses_anonymous_args = 0
 990              		.loc 1 227 1 is_stmt 0 view .LVU293
 991 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 992              	.LCFI7:
 993              		.cfi_def_cfa_offset 32
 994              		.cfi_offset 3, -32
 995              		.cfi_offset 4, -28
 996              		.cfi_offset 5, -24
 997              		.cfi_offset 6, -20
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 24


 998              		.cfi_offset 7, -16
 999              		.cfi_offset 8, -12
 1000              		.cfi_offset 9, -8
 1001              		.cfi_offset 14, -4
 1002 0004 0646     		mov	r6, r0
 1003 0006 0F46     		mov	r7, r1
 228:Core/Src/fm_ring_buffer.c **** 	int so_far =0;
 1004              		.loc 1 228 2 is_stmt 1 view .LVU294
 1005              	.LVL80:
 229:Core/Src/fm_ring_buffer.c **** 	int len = strlen (string);
 1006              		.loc 1 229 2 view .LVU295
 1007              		.loc 1 229 12 is_stmt 0 view .LVU296
 1008 0008 FFF7FEFF 		bl	strlen
 1009              	.LVL81:
 1010              		.loc 1 229 12 view .LVU297
 1011 000c 8046     		mov	r8, r0
 1012              	.LVL82:
 230:Core/Src/fm_ring_buffer.c **** 	int indx = 0;
 1013              		.loc 1 230 2 is_stmt 1 view .LVU298
 1014              		.loc 1 230 6 is_stmt 0 view .LVU299
 1015 000e 4FF00009 		mov	r9, #0
 1016 0012 14E0     		b	.L87
 1017              	.LVL83:
 1018              	.L90:
 231:Core/Src/fm_ring_buffer.c **** 
 232:Core/Src/fm_ring_buffer.c **** again:
 233:Core/Src/fm_ring_buffer.c **** 	while (FM_RBuffer_Peek() != string[so_far])
 234:Core/Src/fm_ring_buffer.c **** 		{
 235:Core/Src/fm_ring_buffer.c **** 			buffertocopyinto[indx] = __RX_RBuffer->fm_buffer[__RX_RBuffer->tail];
 1019              		.loc 1 235 4 is_stmt 1 view .LVU300
 1020              		.loc 1 235 41 is_stmt 0 view .LVU301
 1021 0014 214B     		ldr	r3, .L100
 1022 0016 1A68     		ldr	r2, [r3]
 1023              		.loc 1 235 65 view .LVU302
 1024 0018 D2F88410 		ldr	r1, [r2, #132]
 1025              		.loc 1 235 52 view .LVU303
 1026 001c 525C     		ldrb	r2, [r2, r1]	@ zero_extendqisi2
 1027              		.loc 1 235 27 view .LVU304
 1028 001e 07F80920 		strb	r2, [r7, r9]
 236:Core/Src/fm_ring_buffer.c **** 			__RX_RBuffer->tail = (unsigned int)(__RX_RBuffer->tail + 1) % FM_UART2_BUFFER_SIZE;
 1029              		.loc 1 236 4 is_stmt 1 view .LVU305
 1030              		.loc 1 236 52 is_stmt 0 view .LVU306
 1031 0022 1A68     		ldr	r2, [r3]
 1032 0024 D2F88430 		ldr	r3, [r2, #132]
 1033              		.loc 1 236 25 view .LVU307
 1034 0028 0133     		adds	r3, r3, #1
 1035              		.loc 1 236 64 view .LVU308
 1036 002a 03F07F03 		and	r3, r3, #127
 1037              		.loc 1 236 23 view .LVU309
 1038 002e C2F88430 		str	r3, [r2, #132]
 237:Core/Src/fm_ring_buffer.c **** 			indx++;
 1039              		.loc 1 237 4 is_stmt 1 view .LVU310
 1040              		.loc 1 237 8 is_stmt 0 view .LVU311
 1041 0032 09F10109 		add	r9, r9, #1
 1042              	.LVL84:
 238:Core/Src/fm_ring_buffer.c **** 			while (!FM_RBuffer_Checking_Data_Is_Available());
 1043              		.loc 1 238 4 is_stmt 1 view .LVU312
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 25


 1044              	.L88:
 1045              		.loc 1 238 11 discriminator 1 view .LVU313
 1046              		.loc 1 238 12 is_stmt 0 discriminator 1 view .LVU314
 1047 0036 FFF7FEFF 		bl	FM_RBuffer_Checking_Data_Is_Available
 1048              	.LVL85:
 1049              		.loc 1 238 11 discriminator 1 view .LVU315
 1050 003a 0028     		cmp	r0, #0
 1051 003c FBD0     		beq	.L88
 1052              	.L89:
 1053              	.LVL86:
 1054              	.L87:
 233:Core/Src/fm_ring_buffer.c **** 		{
 1055              		.loc 1 233 27 is_stmt 1 view .LVU316
 233:Core/Src/fm_ring_buffer.c **** 		{
 1056              		.loc 1 233 9 is_stmt 0 view .LVU317
 1057 003e FFF7FEFF 		bl	FM_RBuffer_Peek
 1058              	.LVL87:
 233:Core/Src/fm_ring_buffer.c **** 		{
 1059              		.loc 1 233 27 discriminator 1 view .LVU318
 1060 0042 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1061 0044 8342     		cmp	r3, r0
 1062 0046 E5D1     		bne	.L90
 1063 0048 0024     		movs	r4, #0
 1064 004a 03E0     		b	.L91
 1065              	.LVL88:
 1066              	.L93:
 239:Core/Src/fm_ring_buffer.c **** 
 240:Core/Src/fm_ring_buffer.c **** 		}
 241:Core/Src/fm_ring_buffer.c **** 	while (FM_RBuffer_Peek() == string [so_far])
 242:Core/Src/fm_ring_buffer.c **** 	{
 243:Core/Src/fm_ring_buffer.c **** 		so_far++;
 244:Core/Src/fm_ring_buffer.c **** 		buffertocopyinto[indx++] = FM_RBuffer_Receive_Data();
 245:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 246:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 247:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 248:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1067              		.loc 1 248 3 is_stmt 1 view .LVU319
 1068              		.loc 1 248 26 is_stmt 0 view .LVU320
 1069 004c 144B     		ldr	r3, .L100+4
 1070 004e 1B88     		ldrh	r3, [r3]
 1071              		.loc 1 248 6 view .LVU321
 1072 0050 13B3     		cbz	r3, .L97
 244:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 1073              		.loc 1 244 24 view .LVU322
 1074 0052 A946     		mov	r9, r5
 1075              	.LVL89:
 1076              	.L91:
 241:Core/Src/fm_ring_buffer.c **** 	{
 1077              		.loc 1 241 27 is_stmt 1 view .LVU323
 241:Core/Src/fm_ring_buffer.c **** 	{
 1078              		.loc 1 241 9 is_stmt 0 view .LVU324
 1079 0054 FFF7FEFF 		bl	FM_RBuffer_Peek
 1080              	.LVL90:
 241:Core/Src/fm_ring_buffer.c **** 	{
 1081              		.loc 1 241 27 discriminator 1 view .LVU325
 1082 0058 335D     		ldrb	r3, [r6, r4]	@ zero_extendqisi2
 1083 005a 8342     		cmp	r3, r0
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 26


 1084 005c 15D1     		bne	.L99
 243:Core/Src/fm_ring_buffer.c **** 		buffertocopyinto[indx++] = FM_RBuffer_Receive_Data();
 1085              		.loc 1 243 3 is_stmt 1 view .LVU326
 243:Core/Src/fm_ring_buffer.c **** 		buffertocopyinto[indx++] = FM_RBuffer_Receive_Data();
 1086              		.loc 1 243 9 is_stmt 0 view .LVU327
 1087 005e 0134     		adds	r4, r4, #1
 1088              	.LVL91:
 244:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 1089              		.loc 1 244 3 is_stmt 1 view .LVU328
 244:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 1090              		.loc 1 244 24 is_stmt 0 view .LVU329
 1091 0060 09F10105 		add	r5, r9, #1
 1092              	.LVL92:
 244:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 1093              		.loc 1 244 30 view .LVU330
 1094 0064 FFF7FEFF 		bl	FM_RBuffer_Receive_Data
 1095              	.LVL93:
 244:Core/Src/fm_ring_buffer.c **** 		if (so_far == len) return 1;
 1096              		.loc 1 244 28 discriminator 1 view .LVU331
 1097 0068 07F80900 		strb	r0, [r7, r9]
 245:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 1098              		.loc 1 245 3 is_stmt 1 view .LVU332
 245:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 1099              		.loc 1 245 6 is_stmt 0 view .LVU333
 1100 006c A045     		cmp	r8, r4
 1101 006e 10D0     		beq	.L96
 246:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 1102              		.loc 1 246 3 is_stmt 1 view .LVU334
 246:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);
 1103              		.loc 1 246 22 is_stmt 0 view .LVU335
 1104 0070 0B4B     		ldr	r3, .L100+4
 1105 0072 4FF4FA72 		mov	r2, #500
 1106 0076 1A80     		strh	r2, [r3]	@ movhi
 247:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1107              		.loc 1 247 3 is_stmt 1 view .LVU336
 1108              	.L94:
 247:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1109              		.loc 1 247 52 discriminator 2 view .LVU337
 247:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1110              		.loc 1 247 12 is_stmt 0 discriminator 2 view .LVU338
 1111 0078 FFF7FEFF 		bl	FM_RBuffer_Checking_Data_Is_Available
 1112              	.LVL94:
 247:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1113              		.loc 1 247 52 discriminator 2 view .LVU339
 1114 007c 0028     		cmp	r0, #0
 1115 007e E5D1     		bne	.L93
 247:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;
 1116              		.loc 1 247 52 discriminator 1 view .LVU340
 1117 0080 074B     		ldr	r3, .L100+4
 1118 0082 1B88     		ldrh	r3, [r3]
 1119 0084 002B     		cmp	r3, #0
 1120 0086 F7D1     		bne	.L94
 1121 0088 E0E7     		b	.L93
 1122              	.LVL95:
 1123              	.L99:
 249:Core/Src/fm_ring_buffer.c **** 	}
 250:Core/Src/fm_ring_buffer.c **** 
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 27


 251:Core/Src/fm_ring_buffer.c **** 	if (so_far != len)
 1124              		.loc 1 251 2 is_stmt 1 view .LVU341
 1125              		.loc 1 251 5 is_stmt 0 view .LVU342
 1126 008a 4445     		cmp	r4, r8
 1127 008c D7D1     		bne	.L87
 252:Core/Src/fm_ring_buffer.c **** 	{
 253:Core/Src/fm_ring_buffer.c **** 		so_far = 0;
 254:Core/Src/fm_ring_buffer.c **** 		goto again;
 255:Core/Src/fm_ring_buffer.c **** 	}
 256:Core/Src/fm_ring_buffer.c **** 
 257:Core/Src/fm_ring_buffer.c **** 	if (so_far == len) return 1;
 1128              		.loc 1 257 28 discriminator 1 view .LVU343
 1129 008e 0120     		movs	r0, #1
 1130 0090 00E0     		b	.L86
 1131              	.LVL96:
 1132              	.L96:
 245:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 1133              		.loc 1 245 29 discriminator 1 view .LVU344
 1134 0092 0120     		movs	r0, #1
 1135              	.LVL97:
 1136              	.L86:
 258:Core/Src/fm_ring_buffer.c **** 	else return 0;
 259:Core/Src/fm_ring_buffer.c **** }
 1137              		.loc 1 259 1 view .LVU345
 1138 0094 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1139              	.LVL98:
 1140              	.L97:
 248:Core/Src/fm_ring_buffer.c **** 	}
 1141              		.loc 1 248 39 discriminator 1 view .LVU346
 1142 0098 0020     		movs	r0, #0
 1143 009a FBE7     		b	.L86
 1144              	.L101:
 1145              		.align	2
 1146              	.L100:
 1147 009c 00000000 		.word	__RX_RBuffer
 1148 00a0 00000000 		.word	FM_RBUFFER_TIMEOUT
 1149              		.cfi_endproc
 1150              	.LFE79:
 1152              		.section	.text.Uart_sendstring,"ax",%progbits
 1153              		.align	1
 1154              		.global	Uart_sendstring
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	Uart_sendstring:
 1160              	.LVL99:
 1161              	.LFB80:
 260:Core/Src/fm_ring_buffer.c **** 
 261:Core/Src/fm_ring_buffer.c **** void Uart_sendstring (const char *s)
 262:Core/Src/fm_ring_buffer.c **** {
 1162              		.loc 1 262 1 is_stmt 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 0
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 1166              		.loc 1 262 1 is_stmt 0 view .LVU348
 1167 0000 10B5     		push	{r4, lr}
 1168              	.LCFI8:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 28


 1169              		.cfi_def_cfa_offset 8
 1170              		.cfi_offset 4, -8
 1171              		.cfi_offset 14, -4
 1172 0002 0446     		mov	r4, r0
 263:Core/Src/fm_ring_buffer.c **** 	while(*s) FM_RBuffer_Write_Data(*s++);
 1173              		.loc 1 263 2 is_stmt 1 view .LVU349
 1174              		.loc 1 263 7 is_stmt 0 view .LVU350
 1175 0004 02E0     		b	.L103
 1176              	.LVL100:
 1177              	.L104:
 1178              		.loc 1 263 12 is_stmt 1 discriminator 2 view .LVU351
 1179              		.loc 1 263 36 is_stmt 0 discriminator 2 view .LVU352
 1180 0006 0134     		adds	r4, r4, #1
 1181              	.LVL101:
 1182              		.loc 1 263 12 discriminator 2 view .LVU353
 1183 0008 FFF7FEFF 		bl	FM_RBuffer_Write_Data
 1184              	.LVL102:
 1185              	.L103:
 1186              		.loc 1 263 8 is_stmt 1 discriminator 1 view .LVU354
 1187 000c 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1188 000e 0028     		cmp	r0, #0
 1189 0010 F9D1     		bne	.L104
 264:Core/Src/fm_ring_buffer.c **** }
 1190              		.loc 1 264 1 is_stmt 0 view .LVU355
 1191 0012 10BD     		pop	{r4, pc}
 1192              		.loc 1 264 1 view .LVU356
 1193              		.cfi_endproc
 1194              	.LFE80:
 1196              		.section	.text.Get_after,"ax",%progbits
 1197              		.align	1
 1198              		.global	Get_after
 1199              		.syntax unified
 1200              		.thumb
 1201              		.thumb_func
 1203              	Get_after:
 1204              	.LVL103:
 1205              	.LFB81:
 265:Core/Src/fm_ring_buffer.c **** 
 266:Core/Src/fm_ring_buffer.c **** int Get_after (char *string, uint8_t numberofchars, char *buffertosave)
 267:Core/Src/fm_ring_buffer.c **** {
 1206              		.loc 1 267 1 is_stmt 1 view -0
 1207              		.cfi_startproc
 1208              		@ args = 0, pretend = 0, frame = 0
 1209              		@ frame_needed = 0, uses_anonymous_args = 0
 1210              		.loc 1 267 1 is_stmt 0 view .LVU358
 1211 0000 70B5     		push	{r4, r5, r6, lr}
 1212              	.LCFI9:
 1213              		.cfi_def_cfa_offset 16
 1214              		.cfi_offset 4, -16
 1215              		.cfi_offset 5, -12
 1216              		.cfi_offset 6, -8
 1217              		.cfi_offset 14, -4
 1218 0002 0D46     		mov	r5, r1
 1219 0004 1646     		mov	r6, r2
 268:Core/Src/fm_ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1220              		.loc 1 268 2 is_stmt 1 view .LVU359
 1221              	.LBB10:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 29


 1222              		.loc 1 268 7 view .LVU360
 1223              	.LVL104:
 1224              		.loc 1 268 11 is_stmt 0 view .LVU361
 1225 0006 0024     		movs	r4, #0
 1226              		.loc 1 268 2 view .LVU362
 1227 0008 06E0     		b	.L107
 1228              	.LVL105:
 1229              	.L108:
 269:Core/Src/fm_ring_buffer.c **** 	{
 270:Core/Src/fm_ring_buffer.c **** 		FM_RBUFFER_TIMEOUT = FM_RBUFFER_TIMEOUT_DEF;
 271:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);  // wait until some data 
 272:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1230              		.loc 1 272 3 is_stmt 1 view .LVU363
 1231              		.loc 1 272 26 is_stmt 0 view .LVU364
 1232 000a 0D4B     		ldr	r3, .L115
 1233 000c 1B88     		ldrh	r3, [r3]
 1234              		.loc 1 272 6 view .LVU365
 1235 000e A3B1     		cbz	r3, .L112
 273:Core/Src/fm_ring_buffer.c **** 		buffertosave[indx] = FM_RBuffer_Receive_Data();  // save the data into the buffer... increments t
 1236              		.loc 1 273 3 is_stmt 1 view .LVU366
 1237              		.loc 1 273 24 is_stmt 0 view .LVU367
 1238 0010 FFF7FEFF 		bl	FM_RBuffer_Receive_Data
 1239              	.LVL106:
 1240              		.loc 1 273 22 discriminator 1 view .LVU368
 1241 0014 3055     		strb	r0, [r6, r4]
 268:Core/Src/fm_ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1242              		.loc 1 268 43 is_stmt 1 discriminator 2 view .LVU369
 1243 0016 0134     		adds	r4, r4, #1
 1244              	.LVL107:
 1245              	.L107:
 268:Core/Src/fm_ring_buffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1246              		.loc 1 268 23 discriminator 1 view .LVU370
 1247 0018 A542     		cmp	r5, r4
 1248 001a 0CDD     		ble	.L114
 270:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);  // wait until some data 
 1249              		.loc 1 270 3 view .LVU371
 270:Core/Src/fm_ring_buffer.c **** 		while ((!FM_RBuffer_Checking_Data_Is_Available())&&FM_RBUFFER_TIMEOUT);  // wait until some data 
 1250              		.loc 1 270 22 is_stmt 0 view .LVU372
 1251 001c 084B     		ldr	r3, .L115
 1252 001e 4FF4FA72 		mov	r2, #500
 1253 0022 1A80     		strh	r2, [r3]	@ movhi
 271:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1254              		.loc 1 271 3 is_stmt 1 view .LVU373
 1255              	.L109:
 271:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1256              		.loc 1 271 52 discriminator 2 view .LVU374
 271:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1257              		.loc 1 271 12 is_stmt 0 discriminator 2 view .LVU375
 1258 0024 FFF7FEFF 		bl	FM_RBuffer_Checking_Data_Is_Available
 1259              	.LVL108:
 271:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1260              		.loc 1 271 52 discriminator 2 view .LVU376
 1261 0028 0028     		cmp	r0, #0
 1262 002a EED1     		bne	.L108
 271:Core/Src/fm_ring_buffer.c **** 		if (FM_RBUFFER_TIMEOUT == 0) return 0;  // if data isn't available within time, then return 0
 1263              		.loc 1 271 52 discriminator 1 view .LVU377
 1264 002c 044B     		ldr	r3, .L115
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 30


 1265 002e 1B88     		ldrh	r3, [r3]
 1266 0030 002B     		cmp	r3, #0
 1267 0032 F7D1     		bne	.L109
 1268 0034 E9E7     		b	.L108
 1269              	.L114:
 1270              	.LBE10:
 274:Core/Src/fm_ring_buffer.c ****         // strcpy(buffertosave, __RX_RBuffer->fm_buffer);   
 275:Core/Src/fm_ring_buffer.c **** 	}
 276:Core/Src/fm_ring_buffer.c **** 	return 1;
 1271              		.loc 1 276 9 view .LVU378
 1272 0036 0120     		movs	r0, #1
 1273              	.L106:
 277:Core/Src/fm_ring_buffer.c **** }
 1274              		.loc 1 277 1 view .LVU379
 1275 0038 70BD     		pop	{r4, r5, r6, pc}
 1276              	.LVL109:
 1277              	.L112:
 1278              	.LBB11:
 272:Core/Src/fm_ring_buffer.c **** 		buffertosave[indx] = FM_RBuffer_Receive_Data();  // save the data into the buffer... increments t
 1279              		.loc 1 272 39 discriminator 1 view .LVU380
 1280 003a 0020     		movs	r0, #0
 1281 003c FCE7     		b	.L106
 1282              	.L116:
 1283 003e 00BF     		.align	2
 1284              	.L115:
 1285 0040 00000000 		.word	FM_RBUFFER_TIMEOUT
 1286              	.LBE11:
 1287              		.cfi_endproc
 1288              	.LFE81:
 1290              		.section	.rodata.FM_RBuffer_Copy_An_Array.str1.4,"aMS",%progbits,1
 1291              		.align	2
 1292              	.LC0:
 1293 0000 436F7069 		.ascii	"Copied string: %s\012\000"
 1293      65642073 
 1293      7472696E 
 1293      673A2025 
 1293      730A00
 1294              		.section	.text.FM_RBuffer_Copy_An_Array,"ax",%progbits
 1295              		.align	1
 1296              		.global	FM_RBuffer_Copy_An_Array
 1297              		.syntax unified
 1298              		.thumb
 1299              		.thumb_func
 1301              	FM_RBuffer_Copy_An_Array:
 1302              	.LVL110:
 1303              	.LFB82:
 278:Core/Src/fm_ring_buffer.c **** 
 279:Core/Src/fm_ring_buffer.c **** void FM_RBuffer_Copy_An_Array(char *arr1, char *arr2 ){
 1304              		.loc 1 279 55 is_stmt 1 view -0
 1305              		.cfi_startproc
 1306              		@ args = 0, pretend = 0, frame = 0
 1307              		@ frame_needed = 0, uses_anonymous_args = 0
 1308              		.loc 1 279 55 is_stmt 0 view .LVU382
 1309 0000 10B5     		push	{r4, lr}
 1310              	.LCFI10:
 1311              		.cfi_def_cfa_offset 8
 1312              		.cfi_offset 4, -8
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 31


 1313              		.cfi_offset 14, -4
 1314 0002 0446     		mov	r4, r0
 280:Core/Src/fm_ring_buffer.c **** 
 281:Core/Src/fm_ring_buffer.c ****  int n = __RX_RBuffer->fm_buffer[__RX_RBuffer->tail];
 1315              		.loc 1 281 2 is_stmt 1 view .LVU383
 1316              		.loc 1 281 22 is_stmt 0 view .LVU384
 1317 0004 054B     		ldr	r3, .L119
 1318 0006 1968     		ldr	r1, [r3]
 1319              	.LVL111:
 1320              		.loc 1 281 46 view .LVU385
 1321 0008 D1F88430 		ldr	r3, [r1, #132]
 1322              	.LVL112:
 282:Core/Src/fm_ring_buffer.c **** strcpy(arr1, __RX_RBuffer->fm_buffer);
 1323              		.loc 1 282 1 is_stmt 1 view .LVU386
 1324 000c FFF7FEFF 		bl	strcpy
 1325              	.LVL113:
 283:Core/Src/fm_ring_buffer.c ****     printf("Copied string: %s\n",arr1);
 1326              		.loc 1 283 5 view .LVU387
 1327 0010 2146     		mov	r1, r4
 1328 0012 0348     		ldr	r0, .L119+4
 1329 0014 FFF7FEFF 		bl	printf
 1330              	.LVL114:
 284:Core/Src/fm_ring_buffer.c **** }...
 1331              		.loc 1 284 1 is_stmt 0 view .LVU388
 1332 0018 10BD     		pop	{r4, pc}
 1333              	.LVL115:
 1334              	.L120:
 1335              		.loc 1 284 1 view .LVU389
 1336 001a 00BF     		.align	2
 1337              	.L119:
 1338 001c 00000000 		.word	__RX_RBuffer
 1339 0020 00000000 		.word	.LC0
 1340              		.cfi_endproc
 1341              	.LFE82:
 1343              		.global	__TX_RBuffer
 1344              		.section	.bss.__TX_RBuffer,"aw",%nobits
 1345              		.align	2
 1348              	__TX_RBuffer:
 1349 0000 00000000 		.space	4
 1350              		.global	__RX_RBuffer
 1351              		.section	.bss.__RX_RBuffer,"aw",%nobits
 1352              		.align	2
 1355              	__RX_RBuffer:
 1356 0000 00000000 		.space	4
 1357              		.global	TX_Buffer
 1358              		.section	.bss.TX_Buffer,"aw",%nobits
 1359              		.align	2
 1362              	TX_Buffer:
 1363 0000 00000000 		.space	136
 1363      00000000 
 1363      00000000 
 1363      00000000 
 1363      00000000 
 1364              		.global	RX_Buffer
 1365              		.section	.bss.RX_Buffer,"aw",%nobits
 1366              		.align	2
 1369              	RX_Buffer:
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 32


 1370 0000 00000000 		.space	136
 1370      00000000 
 1370      00000000 
 1370      00000000 
 1370      00000000 
 1371              		.global	FM_RBUFFER_TIMEOUT
 1372              		.section	.bss.FM_RBUFFER_TIMEOUT,"aw",%nobits
 1373              		.align	1
 1376              	FM_RBUFFER_TIMEOUT:
 1377 0000 0000     		.space	2
 1378              		.text
 1379              	.Letext0:
 1380              		.file 2 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/ma
 1381              		.file 3 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/sy
 1382              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1383              		.file 5 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/lib/gcc/arm-none-eabi/13
 1384              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 1385              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1386              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1387              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1388              		.file 10 "Core/Inc/fm_ring_buffer.h"
 1389              		.file 11 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/s
 1390              		.file 12 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/s
 1391              		.file 13 "<built-in>"
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 fm_ring_buffer.c
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:19     .text.FM_RBuffer_Int:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:25     .text.FM_RBuffer_Int:00000000 FM_RBuffer_Int
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:57     .text.FM_RBuffer_Int:00000024 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1355   .bss.__RX_RBuffer:00000000 __RX_RBuffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1369   .bss.RX_Buffer:00000000 RX_Buffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1348   .bss.__TX_RBuffer:00000000 __TX_RBuffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1362   .bss.TX_Buffer:00000000 TX_Buffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:66     .text.FM_RBuffer_Checking_Data_Is_Available:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:72     .text.FM_RBuffer_Checking_Data_Is_Available:00000000 FM_RBuffer_Checking_Data_Is_Available
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:94     .text.FM_RBuffer_Checking_Data_Is_Available:00000014 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:99     .text.FM_RBuffer_Store_Data:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:105    .text.FM_RBuffer_Store_Data:00000000 FM_RBuffer_Store_Data
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:142    .text.FM_RBuffer_UART_ISR:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:148    .text.FM_RBuffer_UART_ISR:00000000 FM_RBuffer_UART_ISR
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:266    .text.FM_RBuffer_UART_ISR:00000068 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:272    .text.FM_RBuffer_Receive_Data:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:278    .text.FM_RBuffer_Receive_Data:00000000 FM_RBuffer_Receive_Data
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:325    .text.FM_RBuffer_Receive_Data:0000002c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:330    .text.FM_RBuffer_Peek:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:336    .text.FM_RBuffer_Peek:00000000 FM_RBuffer_Peek
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:367    .text.FM_RBuffer_Peek:0000001c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:372    .text.FM_RBuffer_Write_Data:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:378    .text.FM_RBuffer_Write_Data:00000000 FM_RBuffer_Write_Data
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:432    .text.FM_RBuffer_Write_Data:00000034 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:438    .text.Uart_printbase:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:444    .text.Uart_printbase:00000000 Uart_printbase
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:562    .text.FM_RBuffer_Waiting:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:568    .text.FM_RBuffer_Waiting:00000000 FM_RBuffer_Waiting
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:741    .text.FM_RBuffer_Waiting:000000b4 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1376   .bss.FM_RBUFFER_TIMEOUT:00000000 FM_RBUFFER_TIMEOUT
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:747    .text.FM_RBuffer_Erase_Buffer:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:753    .text.FM_RBuffer_Erase_Buffer:00000000 FM_RBuffer_Erase_Buffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:787    .text.FM_RBuffer_Erase_Buffer:0000001c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:792    .text.FM_RBuffer_Get_Data_From_Buffer:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:798    .text.FM_RBuffer_Get_Data_From_Buffer:00000000 FM_RBuffer_Get_Data_From_Buffer
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:977    .text.Copy_upto:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:983    .text.Copy_upto:00000000 Copy_upto
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1147   .text.Copy_upto:0000009c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1153   .text.Uart_sendstring:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1159   .text.Uart_sendstring:00000000 Uart_sendstring
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1197   .text.Get_after:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1203   .text.Get_after:00000000 Get_after
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1285   .text.Get_after:00000040 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1291   .rodata.FM_RBuffer_Copy_An_Array.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1295   .text.FM_RBuffer_Copy_An_Array:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1301   .text.FM_RBuffer_Copy_An_Array:00000000 FM_RBuffer_Copy_An_Array
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1338   .text.FM_RBuffer_Copy_An_Array:0000001c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1345   .bss.__TX_RBuffer:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1352   .bss.__RX_RBuffer:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1359   .bss.TX_Buffer:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1366   .bss.RX_Buffer:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s:1373   .bss.FM_RBUFFER_TIMEOUT:00000000 $d

UNDEFINED SYMBOLS
huart2
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccvf2uiI.s 			page 34


strlen
memset
strcpy
printf
