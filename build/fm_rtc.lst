ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fm_rtc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/fm_rtc.c"
  18              		.section	.rodata.FM_V0x_RTC_Set_Time.str1.4,"aMS",%progbits,1
  19              		.align	2
  20              	.LC0:
  21 0000 0D0A5254 		.ascii	"\015\012RTC STATE: RTC was set time. Mode is: %d\015"
  21      43205354 
  21      4154453A 
  21      20525443 
  21      20776173 
  22 002b 0A00     		.ascii	"\012\000"
  23              		.section	.text.FM_V0x_RTC_Set_Time,"ax",%progbits
  24              		.align	1
  25              		.global	FM_V0x_RTC_Set_Time
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  30              	FM_V0x_RTC_Set_Time:
  31              	.LFB69:
   1:Core/Src/fm_rtc.c **** /* __FM_RTC_C */
   2:Core/Src/fm_rtc.c **** 
   3:Core/Src/fm_rtc.c **** #include "fm_rtc.h"
   4:Core/Src/fm_rtc.c **** 
   5:Core/Src/fm_rtc.c **** FM_V0x_Parameters_RTC_t              FM_V0x_RTC_Pars  ;
   6:Core/Src/fm_rtc.c **** FM_V0x_Parameters_RTC_t              FM_V0x_Get_RTC   ;
   7:Core/Src/fm_rtc.c **** FM_V0x_Alarm_RTC_t                   FM_V0x_Alarm_RTC ;
   8:Core/Src/fm_rtc.c **** FM_V0x_RTC_States_t                  FM_V0x_RTC_States;
   9:Core/Src/fm_rtc.c **** RTC_TimeTypeDef                                  pTime;
  10:Core/Src/fm_rtc.c **** RTC_HandleTypeDef                                 hrtc;
  11:Core/Src/fm_rtc.c **** RTC_TimeTypeDef                                  sTime;
  12:Core/Src/fm_rtc.c **** RTC_DateTypeDef                           DateToUpdate;
  13:Core/Src/fm_rtc.c **** 
  14:Core/Src/fm_rtc.c **** 
  15:Core/Src/fm_rtc.c **** extern void Error_Handler(void);
  16:Core/Src/fm_rtc.c **** 
  17:Core/Src/fm_rtc.c **** uint8_t FM_V0x_Rtc_Init( void ){
  18:Core/Src/fm_rtc.c ****         FM_V0x_RTC_States = FM_V0x_RTC_STATE_FLAG_IS_OFF;
  19:Core/Src/fm_rtc.c ****         printf("--> \"FM_RTC_V0x is Initializing... \" \r\n");
  20:Core/Src/fm_rtc.c ****         printf("--> Time and Data were initialized is: 7h-21min-00s \r\n");
  21:Core/Src/fm_rtc.c ****     
  22:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Hour   = 0X10;
  23:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Min    = 0x57;
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 2


  24:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Second =    0;
  25:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Day    = 0x12;
  26:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Mon    = 0x10;
  27:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Year   = 0x24;
  28:Core/Src/fm_rtc.c ****     
  29:Core/Src/fm_rtc.c ****         FM_V0x_RTC_States = FM_V0x_RTC_STATE_FLAG_IS_ON;
  30:Core/Src/fm_rtc.c ****         printf("RTC STATE: RTC Was intialized. Mode is: %d\r\n", FM_V0x_RTC_States);
  31:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Set_Time(FM_V0x_RTC_Pars );
  32:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Set_Date(FM_V0x_RTC_Pars );
  33:Core/Src/fm_rtc.c ****         return FM_V0x_RTC_States;
  34:Core/Src/fm_rtc.c **** }
  35:Core/Src/fm_rtc.c **** 
  36:Core/Src/fm_rtc.c **** uint8_t FM_V0x_RTC_Set_Time (FM_V0x_Parameters_RTC_t  RTC_SetTime ){
  32              		.loc 1 36 68 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 16
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36 0000 00B5     		push	{lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 14, -4
  40 0002 85B0     		sub	sp, sp, #20
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  43 0004 0DF1100C 		add	ip, sp, #16
  44 0008 0CE90F00 		stmdb	ip, {r0, r1, r2, r3}
  37:Core/Src/fm_rtc.c **** 
  38:Core/Src/fm_rtc.c ****         if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_ON ){
  45              		.loc 1 38 9 view .LVU1
  46              		.loc 1 38 31 is_stmt 0 view .LVU2
  47 000c 1F4B     		ldr	r3, .L11
  48 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  49              		.loc 1 38 11 view .LVU3
  50 0010 012B     		cmp	r3, #1
  51 0012 04D0     		beq	.L7
  52              	.L2:
  39:Core/Src/fm_rtc.c ****             hrtc.Instance = RTC;   
  40:Core/Src/fm_rtc.c ****             if (( RTC_SetTime.Set_Hour >= FM_V0x_CHECK_TIME_IS_24HOUR ) && ( RTC_SetTime.Set_Hour <
  41:Core/Src/fm_rtc.c ****                 printf("-->BUG: Hour in RTC's Setting is not seted \r\n");
  42:Core/Src/fm_rtc.c ****                 return false;
  43:Core/Src/fm_rtc.c ****             }
  44:Core/Src/fm_rtc.c ****         // if( HAL_RTCEx_BKUPRead( &hrtc, RTC_BKP_DR1 ) != 0x32F2 ){
  45:Core/Src/fm_rtc.c ****             hrtc.Init.AsynchPrediv = RTC_AUTO_1_SECOND;
  46:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
  47:Core/Src/fm_rtc.c ****             if (HAL_RTC_Init( &hrtc ) != HAL_OK ){
  48:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
  49:Core/Src/fm_rtc.c ****          if( HAL_RTCEx_BKUPRead( &hrtc, RTC_BKP_DR1 ) != 0x32F2 ){
  50:Core/Src/fm_rtc.c ****             sTime.Hours   =  RTC_SetTime.Set_Hour;
  51:Core/Src/fm_rtc.c ****             sTime.Minutes =  RTC_SetTime.Set_Min;
  52:Core/Src/fm_rtc.c ****             sTime.Seconds =  RTC_SetTime.Set_Second; 
  53:Core/Src/fm_rtc.c **** 
  54:Core/Src/fm_rtc.c ****             if (HAL_RTC_SetTime( &hrtc, &sTime, RTC_FORMAT_BCD ) != HAL_OK ){
  55:Core/Src/fm_rtc.c ****                 Error_Handler( );}
  56:Core/Src/fm_rtc.c ****       
  57:Core/Src/fm_rtc.c ****           HAL_RTCEx_BKUPWrite(&hrtc, RTC_BKP_DR1, 0x32F2 );}
  58:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_2;
  59:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC was set time. Mode is: %d\r\n", FM_V0x_RTC_States);
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 3


  60:Core/Src/fm_rtc.c ****         }
  61:Core/Src/fm_rtc.c ****         if (( sTime.Hours >= FM_V0x_CHECK_TIME_IS_24HOUR ) && ( sTime.Hours < FM_V0x_CHECK_TIME_IS_
  53              		.loc 1 61 9 is_stmt 1 view .LVU4
  62:Core/Src/fm_rtc.c ****                 printf( "-->BUG: Hour in RTC isn't set!\r\n" );
  63:Core/Src/fm_rtc.c ****                 return false;
  64:Core/Src/fm_rtc.c ****         } else {
  65:Core/Src/fm_rtc.c ****                 return FM_V0x_RTC_States;
  54              		.loc 1 65 17 view .LVU5
  66:Core/Src/fm_rtc.c ****         }
  67:Core/Src/fm_rtc.c **** }
  55              		.loc 1 67 1 is_stmt 0 view .LVU6
  56 0014 1D4B     		ldr	r3, .L11
  57 0016 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  58 0018 05B0     		add	sp, sp, #20
  59              	.LCFI2:
  60              		.cfi_remember_state
  61              		.cfi_def_cfa_offset 4
  62              		@ sp needed
  63 001a 5DF804FB 		ldr	pc, [sp], #4
  64              	.L7:
  65              	.LCFI3:
  66              		.cfi_restore_state
  39:Core/Src/fm_rtc.c ****             if (( RTC_SetTime.Set_Hour >= FM_V0x_CHECK_TIME_IS_24HOUR ) && ( RTC_SetTime.Set_Hour <
  67              		.loc 1 39 13 is_stmt 1 view .LVU7
  39:Core/Src/fm_rtc.c ****             if (( RTC_SetTime.Set_Hour >= FM_V0x_CHECK_TIME_IS_24HOUR ) && ( RTC_SetTime.Set_Hour <
  68              		.loc 1 39 27 is_stmt 0 view .LVU8
  69 001e 1C48     		ldr	r0, .L11+4
  70 0020 1C4B     		ldr	r3, .L11+8
  71 0022 0360     		str	r3, [r0]
  40:Core/Src/fm_rtc.c ****                 printf("-->BUG: Hour in RTC's Setting is not seted \r\n");
  72              		.loc 1 40 13 is_stmt 1 view .LVU9
  45:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
  73              		.loc 1 45 13 view .LVU10
  45:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
  74              		.loc 1 45 36 is_stmt 0 view .LVU11
  75 0024 4FF0FF33 		mov	r3, #-1
  76 0028 4360     		str	r3, [r0, #4]
  46:Core/Src/fm_rtc.c ****             if (HAL_RTC_Init( &hrtc ) != HAL_OK ){
  77              		.loc 1 46 13 is_stmt 1 view .LVU12
  46:Core/Src/fm_rtc.c ****             if (HAL_RTC_Init( &hrtc ) != HAL_OK ){
  78              		.loc 1 46 30 is_stmt 0 view .LVU13
  79 002a 4FF48073 		mov	r3, #256
  80 002e 8360     		str	r3, [r0, #8]
  47:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
  81              		.loc 1 47 13 is_stmt 1 view .LVU14
  47:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
  82              		.loc 1 47 17 is_stmt 0 view .LVU15
  83 0030 FFF7FEFF 		bl	HAL_RTC_Init
  84              	.LVL0:
  47:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
  85              		.loc 1 47 16 discriminator 1 view .LVU16
  86 0034 70B9     		cbnz	r0, .L8
  87              	.L3:
  49:Core/Src/fm_rtc.c ****             sTime.Hours   =  RTC_SetTime.Set_Hour;
  88              		.loc 1 49 10 is_stmt 1 view .LVU17
  49:Core/Src/fm_rtc.c ****             sTime.Hours   =  RTC_SetTime.Set_Hour;
  89              		.loc 1 49 14 is_stmt 0 view .LVU18
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 4


  90 0036 0121     		movs	r1, #1
  91 0038 1548     		ldr	r0, .L11+4
  92 003a FFF7FEFF 		bl	HAL_RTCEx_BKUPRead
  93              	.LVL1:
  49:Core/Src/fm_rtc.c ****             sTime.Hours   =  RTC_SetTime.Set_Hour;
  94              		.loc 1 49 12 discriminator 1 view .LVU19
  95 003e 43F2F223 		movw	r3, #13042
  96 0042 9842     		cmp	r0, r3
  97 0044 09D1     		bne	.L9
  98              	.L4:
  58:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC was set time. Mode is: %d\r\n", FM_V0x_RTC_States);
  99              		.loc 1 58 13 is_stmt 1 view .LVU20
  58:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC was set time. Mode is: %d\r\n", FM_V0x_RTC_States);
 100              		.loc 1 58 32 is_stmt 0 view .LVU21
 101 0046 0221     		movs	r1, #2
 102 0048 104B     		ldr	r3, .L11
 103 004a 1970     		strb	r1, [r3]
  59:Core/Src/fm_rtc.c ****         }
 104              		.loc 1 59 13 is_stmt 1 view .LVU22
 105 004c 1248     		ldr	r0, .L11+12
 106 004e FFF7FEFF 		bl	printf
 107              	.LVL2:
 108 0052 DFE7     		b	.L2
 109              	.L8:
  48:Core/Src/fm_rtc.c ****          if( HAL_RTCEx_BKUPRead( &hrtc, RTC_BKP_DR1 ) != 0x32F2 ){
 110              		.loc 1 48 17 view .LVU23
 111 0054 FFF7FEFF 		bl	Error_Handler
 112              	.LVL3:
 113 0058 EDE7     		b	.L3
 114              	.L9:
  50:Core/Src/fm_rtc.c ****             sTime.Minutes =  RTC_SetTime.Set_Min;
 115              		.loc 1 50 13 view .LVU24
  50:Core/Src/fm_rtc.c ****             sTime.Minutes =  RTC_SetTime.Set_Min;
 116              		.loc 1 50 41 is_stmt 0 view .LVU25
 117 005a 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
  50:Core/Src/fm_rtc.c ****             sTime.Minutes =  RTC_SetTime.Set_Min;
 118              		.loc 1 50 27 view .LVU26
 119 005e 0F49     		ldr	r1, .L11+16
 120 0060 0B70     		strb	r3, [r1]
  51:Core/Src/fm_rtc.c ****             sTime.Seconds =  RTC_SetTime.Set_Second; 
 121              		.loc 1 51 13 is_stmt 1 view .LVU27
  51:Core/Src/fm_rtc.c ****             sTime.Seconds =  RTC_SetTime.Set_Second; 
 122              		.loc 1 51 41 is_stmt 0 view .LVU28
 123 0062 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
  51:Core/Src/fm_rtc.c ****             sTime.Seconds =  RTC_SetTime.Set_Second; 
 124              		.loc 1 51 27 view .LVU29
 125 0066 4B70     		strb	r3, [r1, #1]
  52:Core/Src/fm_rtc.c **** 
 126              		.loc 1 52 13 is_stmt 1 view .LVU30
  52:Core/Src/fm_rtc.c **** 
 127              		.loc 1 52 41 is_stmt 0 view .LVU31
 128 0068 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
  52:Core/Src/fm_rtc.c **** 
 129              		.loc 1 52 27 view .LVU32
 130 006c 8B70     		strb	r3, [r1, #2]
  54:Core/Src/fm_rtc.c ****                 Error_Handler( );}
 131              		.loc 1 54 13 is_stmt 1 view .LVU33
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 5


  54:Core/Src/fm_rtc.c ****                 Error_Handler( );}
 132              		.loc 1 54 17 is_stmt 0 view .LVU34
 133 006e 0122     		movs	r2, #1
 134 0070 0748     		ldr	r0, .L11+4
 135 0072 FFF7FEFF 		bl	HAL_RTC_SetTime
 136              	.LVL4:
  54:Core/Src/fm_rtc.c ****                 Error_Handler( );}
 137              		.loc 1 54 16 discriminator 1 view .LVU35
 138 0076 30B9     		cbnz	r0, .L10
 139              	.L5:
  57:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_2;
 140              		.loc 1 57 11 is_stmt 1 view .LVU36
 141 0078 43F2F222 		movw	r2, #13042
 142 007c 0121     		movs	r1, #1
 143 007e 0448     		ldr	r0, .L11+4
 144 0080 FFF7FEFF 		bl	HAL_RTCEx_BKUPWrite
 145              	.LVL5:
 146 0084 DFE7     		b	.L4
 147              	.L10:
  55:Core/Src/fm_rtc.c ****       
 148              		.loc 1 55 17 view .LVU37
 149 0086 FFF7FEFF 		bl	Error_Handler
 150              	.LVL6:
 151 008a F5E7     		b	.L5
 152              	.L12:
 153              		.align	2
 154              	.L11:
 155 008c 00000000 		.word	FM_V0x_RTC_States
 156 0090 00000000 		.word	hrtc
 157 0094 00280040 		.word	1073752064
 158 0098 00000000 		.word	.LC0
 159 009c 00000000 		.word	sTime
 160              		.cfi_endproc
 161              	.LFE69:
 163              		.section	.rodata.FM_V0x_RTC_Set_Date.str1.4,"aMS",%progbits,1
 164              		.align	2
 165              	.LC1:
 166 0000 0D0A5254 		.ascii	"\015\012RTC STATE: RTC Was set date. Mode is: %d\015"
 166      43205354 
 166      4154453A 
 166      20525443 
 166      20576173 
 167 002b 0A00     		.ascii	"\012\000"
 168              		.section	.text.FM_V0x_RTC_Set_Date,"ax",%progbits
 169              		.align	1
 170              		.global	FM_V0x_RTC_Set_Date
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 175              	FM_V0x_RTC_Set_Date:
 176              	.LFB70:
  68:Core/Src/fm_rtc.c **** 
  69:Core/Src/fm_rtc.c **** uint8_t FM_V0x_RTC_Set_Date (FM_V0x_Parameters_RTC_t  RTC_SetDate  ){
 177              		.loc 1 69 69 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 16
 180              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 6


 181 0000 00B5     		push	{lr}
 182              	.LCFI4:
 183              		.cfi_def_cfa_offset 4
 184              		.cfi_offset 14, -4
 185 0002 85B0     		sub	sp, sp, #20
 186              	.LCFI5:
 187              		.cfi_def_cfa_offset 24
 188 0004 0DF1100C 		add	ip, sp, #16
 189 0008 0CE90F00 		stmdb	ip, {r0, r1, r2, r3}
  70:Core/Src/fm_rtc.c **** 
  71:Core/Src/fm_rtc.c ****         if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_2 ){
 190              		.loc 1 71 9 view .LVU39
 191              		.loc 1 71 31 is_stmt 0 view .LVU40
 192 000c 184B     		ldr	r3, .L21
 193 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 194              		.loc 1 71 11 view .LVU41
 195 0010 022B     		cmp	r3, #2
 196 0012 04D0     		beq	.L18
 197              	.L14:
  72:Core/Src/fm_rtc.c **** 
  73:Core/Src/fm_rtc.c ****             hrtc.Instance = RTC;     
  74:Core/Src/fm_rtc.c **** 
  75:Core/Src/fm_rtc.c ****             if (( RTC_SetDate.Set_Day   > 31 )  && ( RTC_SetDate.Set_Day < 0 )){
  76:Core/Src/fm_rtc.c ****                 printf("-->BUG: Day in RTC  is not seted \r\n");  
  77:Core/Src/fm_rtc.c ****                 return false; }
  78:Core/Src/fm_rtc.c ****             hrtc.Init.AsynchPrediv = RTC_AUTO_1_SECOND;
  79:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
  80:Core/Src/fm_rtc.c ****           
  81:Core/Src/fm_rtc.c ****             if (HAL_RTC_Init( &hrtc ) != HAL_OK ){
  82:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
  83:Core/Src/fm_rtc.c **** 
  84:Core/Src/fm_rtc.c ****             DateToUpdate.Month   = RTC_SetDate.Set_Mon ;
  85:Core/Src/fm_rtc.c ****             DateToUpdate.Date    = RTC_SetDate.Set_Day ;
  86:Core/Src/fm_rtc.c ****             DateToUpdate.Year    = RTC_SetDate.Set_Year;
  87:Core/Src/fm_rtc.c **** 
  88:Core/Src/fm_rtc.c ****             if (HAL_RTC_SetDate(&hrtc, &DateToUpdate, RTC_FORMAT_BCD) != HAL_OK){
  89:Core/Src/fm_rtc.c ****                 Error_Handler(); }
  90:Core/Src/fm_rtc.c ****           
  91:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_3;
  92:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC Was set date. Mode is: %d\r\n",FM_V0x_RTC_States );         
  93:Core/Src/fm_rtc.c ****            
  94:Core/Src/fm_rtc.c ****         }  
  95:Core/Src/fm_rtc.c ****         if (( DateToUpdate.Date >= FM_V0x_CHECK_TIME_IS_24HOUR ) && ( DateToUpdate.Date < FM_V0x_CH
 198              		.loc 1 95 9 is_stmt 1 view .LVU42
  96:Core/Src/fm_rtc.c ****                 printf( "-->BUG: Hour in RTC isn't set!\r\n" );
  97:Core/Src/fm_rtc.c ****                 return false;
  98:Core/Src/fm_rtc.c ****         } else { return  FM_V0x_RTC_States; }       
 199              		.loc 1 98 18 view .LVU43
  99:Core/Src/fm_rtc.c **** }
 200              		.loc 1 99 1 is_stmt 0 view .LVU44
 201 0014 164B     		ldr	r3, .L21
 202 0016 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 203 0018 05B0     		add	sp, sp, #20
 204              	.LCFI6:
 205              		.cfi_remember_state
 206              		.cfi_def_cfa_offset 4
 207              		@ sp needed
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 7


 208 001a 5DF804FB 		ldr	pc, [sp], #4
 209              	.L18:
 210              	.LCFI7:
 211              		.cfi_restore_state
  73:Core/Src/fm_rtc.c **** 
 212              		.loc 1 73 13 is_stmt 1 view .LVU45
  73:Core/Src/fm_rtc.c **** 
 213              		.loc 1 73 27 is_stmt 0 view .LVU46
 214 001e 1548     		ldr	r0, .L21+4
 215 0020 154B     		ldr	r3, .L21+8
 216 0022 0360     		str	r3, [r0]
  75:Core/Src/fm_rtc.c ****                 printf("-->BUG: Day in RTC  is not seted \r\n");  
 217              		.loc 1 75 13 is_stmt 1 view .LVU47
  78:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
 218              		.loc 1 78 13 view .LVU48
  78:Core/Src/fm_rtc.c ****             hrtc.Init.OutPut = RTC_OUTPUTSOURCE_ALARM;
 219              		.loc 1 78 36 is_stmt 0 view .LVU49
 220 0024 4FF0FF33 		mov	r3, #-1
 221 0028 4360     		str	r3, [r0, #4]
  79:Core/Src/fm_rtc.c ****           
 222              		.loc 1 79 13 is_stmt 1 view .LVU50
  79:Core/Src/fm_rtc.c ****           
 223              		.loc 1 79 30 is_stmt 0 view .LVU51
 224 002a 4FF48073 		mov	r3, #256
 225 002e 8360     		str	r3, [r0, #8]
  81:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
 226              		.loc 1 81 13 is_stmt 1 view .LVU52
  81:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
 227              		.loc 1 81 17 is_stmt 0 view .LVU53
 228 0030 FFF7FEFF 		bl	HAL_RTC_Init
 229              	.LVL7:
  81:Core/Src/fm_rtc.c ****                 Error_Handler( ); }
 230              		.loc 1 81 16 discriminator 1 view .LVU54
 231 0034 A8B9     		cbnz	r0, .L19
 232              	.L15:
  84:Core/Src/fm_rtc.c ****             DateToUpdate.Date    = RTC_SetDate.Set_Day ;
 233              		.loc 1 84 13 is_stmt 1 view .LVU55
  84:Core/Src/fm_rtc.c ****             DateToUpdate.Date    = RTC_SetDate.Set_Day ;
 234              		.loc 1 84 47 is_stmt 0 view .LVU56
 235 0036 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
  84:Core/Src/fm_rtc.c ****             DateToUpdate.Date    = RTC_SetDate.Set_Day ;
 236              		.loc 1 84 34 view .LVU57
 237 003a 1049     		ldr	r1, .L21+12
 238 003c 4B70     		strb	r3, [r1, #1]
  85:Core/Src/fm_rtc.c ****             DateToUpdate.Year    = RTC_SetDate.Set_Year;
 239              		.loc 1 85 13 is_stmt 1 view .LVU58
  85:Core/Src/fm_rtc.c ****             DateToUpdate.Year    = RTC_SetDate.Set_Year;
 240              		.loc 1 85 47 is_stmt 0 view .LVU59
 241 003e 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
  85:Core/Src/fm_rtc.c ****             DateToUpdate.Year    = RTC_SetDate.Set_Year;
 242              		.loc 1 85 34 view .LVU60
 243 0042 8B70     		strb	r3, [r1, #2]
  86:Core/Src/fm_rtc.c **** 
 244              		.loc 1 86 13 is_stmt 1 view .LVU61
  86:Core/Src/fm_rtc.c **** 
 245              		.loc 1 86 47 is_stmt 0 view .LVU62
 246 0044 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 8


  86:Core/Src/fm_rtc.c **** 
 247              		.loc 1 86 34 view .LVU63
 248 0048 CB70     		strb	r3, [r1, #3]
  88:Core/Src/fm_rtc.c ****                 Error_Handler(); }
 249              		.loc 1 88 13 is_stmt 1 view .LVU64
  88:Core/Src/fm_rtc.c ****                 Error_Handler(); }
 250              		.loc 1 88 17 is_stmt 0 view .LVU65
 251 004a 0122     		movs	r2, #1
 252 004c 0948     		ldr	r0, .L21+4
 253 004e FFF7FEFF 		bl	HAL_RTC_SetDate
 254              	.LVL8:
  88:Core/Src/fm_rtc.c ****                 Error_Handler(); }
 255              		.loc 1 88 16 discriminator 1 view .LVU66
 256 0052 48B9     		cbnz	r0, .L20
 257              	.L16:
  91:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC Was set date. Mode is: %d\r\n",FM_V0x_RTC_States );         
 258              		.loc 1 91 13 is_stmt 1 view .LVU67
  91:Core/Src/fm_rtc.c ****             printf("\r\nRTC STATE: RTC Was set date. Mode is: %d\r\n",FM_V0x_RTC_States );         
 259              		.loc 1 91 32 is_stmt 0 view .LVU68
 260 0054 0321     		movs	r1, #3
 261 0056 064B     		ldr	r3, .L21
 262 0058 1970     		strb	r1, [r3]
  92:Core/Src/fm_rtc.c ****            
 263              		.loc 1 92 13 is_stmt 1 view .LVU69
 264 005a 0948     		ldr	r0, .L21+16
 265 005c FFF7FEFF 		bl	printf
 266              	.LVL9:
 267 0060 D8E7     		b	.L14
 268              	.L19:
  82:Core/Src/fm_rtc.c **** 
 269              		.loc 1 82 17 view .LVU70
 270 0062 FFF7FEFF 		bl	Error_Handler
 271              	.LVL10:
 272 0066 E6E7     		b	.L15
 273              	.L20:
  89:Core/Src/fm_rtc.c ****           
 274              		.loc 1 89 17 view .LVU71
 275 0068 FFF7FEFF 		bl	Error_Handler
 276              	.LVL11:
 277 006c F2E7     		b	.L16
 278              	.L22:
 279 006e 00BF     		.align	2
 280              	.L21:
 281 0070 00000000 		.word	FM_V0x_RTC_States
 282 0074 00000000 		.word	hrtc
 283 0078 00280040 		.word	1073752064
 284 007c 00000000 		.word	DateToUpdate
 285 0080 00000000 		.word	.LC1
 286              		.cfi_endproc
 287              	.LFE70:
 289              		.section	.rodata.FM_V0x_Rtc_Init.str1.4,"aMS",%progbits,1
 290              		.align	2
 291              	.LC2:
 292 0000 2D2D3E20 		.ascii	"--> \"FM_RTC_V0x is Initializing... \" \015\000"
 292      22464D5F 
 292      5254435F 
 292      56307820 
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 9


 292      69732049 
 293 0027 00       		.align	2
 294              	.LC3:
 295 0028 2D2D3E20 		.ascii	"--> Time and Data were initialized is: 7h-21min-00s"
 295      54696D65 
 295      20616E64 
 295      20446174 
 295      61207765 
 296 005b 200D00   		.ascii	" \015\000"
 297 005e 0000     		.align	2
 298              	.LC4:
 299 0060 52544320 		.ascii	"RTC STATE: RTC Was intialized. Mode is: %d\015\012\000"
 299      53544154 
 299      453A2052 
 299      54432057 
 299      61732069 
 300              		.section	.text.FM_V0x_Rtc_Init,"ax",%progbits
 301              		.align	1
 302              		.global	FM_V0x_Rtc_Init
 303              		.syntax unified
 304              		.thumb
 305              		.thumb_func
 307              	FM_V0x_Rtc_Init:
 308              	.LFB68:
  17:Core/Src/fm_rtc.c ****         FM_V0x_RTC_States = FM_V0x_RTC_STATE_FLAG_IS_OFF;
 309              		.loc 1 17 32 view -0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313 0000 70B5     		push	{r4, r5, r6, lr}
 314              	.LCFI8:
 315              		.cfi_def_cfa_offset 16
 316              		.cfi_offset 4, -16
 317              		.cfi_offset 5, -12
 318              		.cfi_offset 6, -8
 319              		.cfi_offset 14, -4
  18:Core/Src/fm_rtc.c ****         printf("--> \"FM_RTC_V0x is Initializing... \" \r\n");
 320              		.loc 1 18 9 view .LVU73
  18:Core/Src/fm_rtc.c ****         printf("--> \"FM_RTC_V0x is Initializing... \" \r\n");
 321              		.loc 1 18 27 is_stmt 0 view .LVU74
 322 0002 114D     		ldr	r5, .L25
 323 0004 0026     		movs	r6, #0
 324 0006 2E70     		strb	r6, [r5]
  19:Core/Src/fm_rtc.c ****         printf("--> Time and Data were initialized is: 7h-21min-00s \r\n");
 325              		.loc 1 19 9 is_stmt 1 view .LVU75
 326 0008 1048     		ldr	r0, .L25+4
 327 000a FFF7FEFF 		bl	puts
 328              	.LVL12:
  20:Core/Src/fm_rtc.c ****     
 329              		.loc 1 20 9 view .LVU76
 330 000e 1048     		ldr	r0, .L25+8
 331 0010 FFF7FEFF 		bl	puts
 332              	.LVL13:
  22:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Min    = 0x57;
 333              		.loc 1 22 9 view .LVU77
  22:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Min    = 0x57;
 334              		.loc 1 22 36 is_stmt 0 view .LVU78
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 10


 335 0014 0F4C     		ldr	r4, .L25+12
 336 0016 1023     		movs	r3, #16
 337 0018 A370     		strb	r3, [r4, #2]
  23:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Second =    0;
 338              		.loc 1 23 9 is_stmt 1 view .LVU79
  23:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Second =    0;
 339              		.loc 1 23 36 is_stmt 0 view .LVU80
 340 001a 5722     		movs	r2, #87
 341 001c 6270     		strb	r2, [r4, #1]
  24:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Day    = 0x12;
 342              		.loc 1 24 9 is_stmt 1 view .LVU81
  24:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Day    = 0x12;
 343              		.loc 1 24 36 is_stmt 0 view .LVU82
 344 001e 2670     		strb	r6, [r4]
  25:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Mon    = 0x10;
 345              		.loc 1 25 9 is_stmt 1 view .LVU83
  25:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Mon    = 0x10;
 346              		.loc 1 25 36 is_stmt 0 view .LVU84
 347 0020 1222     		movs	r2, #18
 348 0022 E270     		strb	r2, [r4, #3]
  26:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Year   = 0x24;
 349              		.loc 1 26 9 is_stmt 1 view .LVU85
  26:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Pars.Set_Year   = 0x24;
 350              		.loc 1 26 36 is_stmt 0 view .LVU86
 351 0024 6371     		strb	r3, [r4, #5]
  27:Core/Src/fm_rtc.c ****     
 352              		.loc 1 27 9 is_stmt 1 view .LVU87
  27:Core/Src/fm_rtc.c ****     
 353              		.loc 1 27 36 is_stmt 0 view .LVU88
 354 0026 2423     		movs	r3, #36
 355 0028 A371     		strb	r3, [r4, #6]
  29:Core/Src/fm_rtc.c ****         printf("RTC STATE: RTC Was intialized. Mode is: %d\r\n", FM_V0x_RTC_States);
 356              		.loc 1 29 9 is_stmt 1 view .LVU89
  29:Core/Src/fm_rtc.c ****         printf("RTC STATE: RTC Was intialized. Mode is: %d\r\n", FM_V0x_RTC_States);
 357              		.loc 1 29 27 is_stmt 0 view .LVU90
 358 002a 0121     		movs	r1, #1
 359 002c 2970     		strb	r1, [r5]
  30:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Set_Time(FM_V0x_RTC_Pars );
 360              		.loc 1 30 9 is_stmt 1 view .LVU91
 361 002e 0A48     		ldr	r0, .L25+16
 362 0030 FFF7FEFF 		bl	printf
 363              	.LVL14:
  31:Core/Src/fm_rtc.c ****         FM_V0x_RTC_Set_Date(FM_V0x_RTC_Pars );
 364              		.loc 1 31 9 view .LVU92
 365 0034 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 366 0038 FFF7FEFF 		bl	FM_V0x_RTC_Set_Time
 367              	.LVL15:
  32:Core/Src/fm_rtc.c ****         return FM_V0x_RTC_States;
 368              		.loc 1 32 9 view .LVU93
 369 003c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 370 0040 FFF7FEFF 		bl	FM_V0x_RTC_Set_Date
 371              	.LVL16:
  33:Core/Src/fm_rtc.c **** }
 372              		.loc 1 33 9 view .LVU94
  34:Core/Src/fm_rtc.c **** 
 373              		.loc 1 34 1 is_stmt 0 view .LVU95
 374 0044 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 11


 375 0046 70BD     		pop	{r4, r5, r6, pc}
 376              	.L26:
 377              		.align	2
 378              	.L25:
 379 0048 00000000 		.word	FM_V0x_RTC_States
 380 004c 00000000 		.word	.LC2
 381 0050 28000000 		.word	.LC3
 382 0054 00000000 		.word	FM_V0x_RTC_Pars
 383 0058 60000000 		.word	.LC4
 384              		.cfi_endproc
 385              	.LFE68:
 387              		.section	.rodata.FM_V0x_RTC_Get_Time.str1.4,"aMS",%progbits,1
 388              		.align	2
 389              	.LC5:
 390 0000 5254435F 		.ascii	"RTC_LOG: ==================***RTC***==============="
 390      4C4F473A 
 390      203D3D3D 
 390      3D3D3D3D 
 390      3D3D3D3D 
 391 0033 3D3D3D3D 		.ascii	"======\015\000"
 391      3D3D0D00 
 392 003b 00       		.align	2
 393              	.LC6:
 394 003c 52544320 		.ascii	"RTC STATE: RTC gets time. Mode is: %d. \000"
 394      53544154 
 394      453A2052 
 394      54432067 
 394      65747320 
 395              		.align	2
 396              	.LC7:
 397 0064 54696D65 		.ascii	"Time is: %d %d %d\015\012\000"
 397      2069733A 
 397      20256420 
 397      25642025 
 397      640D0A00 
 398              		.section	.text.FM_V0x_RTC_Get_Time,"ax",%progbits
 399              		.align	1
 400              		.global	FM_V0x_RTC_Get_Time
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	FM_V0x_RTC_Get_Time:
 406              	.LVL17:
 407              	.LFB71:
 100:Core/Src/fm_rtc.c **** 
 101:Core/Src/fm_rtc.c **** 
 102:Core/Src/fm_rtc.c **** uint8_t FM_V0x_RTC_Get_Time ( FM_V0x_Parameters_RTC_t  *RTC_GetTime ){
 408              		.loc 1 102 70 is_stmt 1 view -0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412              		.loc 1 102 70 is_stmt 0 view .LVU97
 413 0000 38B5     		push	{r3, r4, r5, lr}
 414              	.LCFI9:
 415              		.cfi_def_cfa_offset 16
 416              		.cfi_offset 3, -16
 417              		.cfi_offset 4, -12
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 12


 418              		.cfi_offset 5, -8
 419              		.cfi_offset 14, -4
 103:Core/Src/fm_rtc.c ****         
 104:Core/Src/fm_rtc.c ****         if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_3 ){
 420              		.loc 1 104 9 is_stmt 1 view .LVU98
 421              		.loc 1 104 31 is_stmt 0 view .LVU99
 422 0002 124B     		ldr	r3, .L31
 423 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 424              		.loc 1 104 11 view .LVU100
 425 0006 032B     		cmp	r3, #3
 426 0008 02D0     		beq	.L30
 427              	.LVL18:
 428              	.L28:
 105:Core/Src/fm_rtc.c **** 
 106:Core/Src/fm_rtc.c ****             HAL_RTC_GetTime(&hrtc, &pTime, RTC_FORMAT_BIN);
 107:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour   = pTime.Hours;
 108:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Min    = pTime.Minutes;
 109:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Second = pTime.Seconds;
 110:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC); 
 111:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_4;
 112:Core/Src/fm_rtc.c ****             printf("RTC_LOG: ==================***RTC***=====================\r\n");
 113:Core/Src/fm_rtc.c ****             printf("RTC STATE: RTC gets time. Mode is: %d. ",FM_V0x_RTC_States );
 114:Core/Src/fm_rtc.c ****             printf("Time is: %d %d %d\r\n",    RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour  ,  RTC_Ge
 115:Core/Src/fm_rtc.c ****         }
 116:Core/Src/fm_rtc.c ****         if ((   RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour     >= FM_V0x_CHECK_TIME_IS_24HOUR )   &&
 429              		.loc 1 116 9 is_stmt 1 view .LVU101
 117:Core/Src/fm_rtc.c ****                 printf( "-->BUG: Hour in RTC isn't set!\r\n" );
 118:Core/Src/fm_rtc.c ****                 return false;
 119:Core/Src/fm_rtc.c ****         } else { return   FM_V0x_RTC_States  ;}
 430              		.loc 1 119 18 view .LVU102
 120:Core/Src/fm_rtc.c **** }
 431              		.loc 1 120 1 is_stmt 0 view .LVU103
 432 000a 104B     		ldr	r3, .L31
 433 000c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 434 000e 38BD     		pop	{r3, r4, r5, pc}
 435              	.LVL19:
 436              	.L30:
 437              		.loc 1 120 1 view .LVU104
 438 0010 0446     		mov	r4, r0
 106:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour   = pTime.Hours;
 439              		.loc 1 106 13 is_stmt 1 view .LVU105
 440 0012 0F4D     		ldr	r5, .L31+4
 441 0014 0022     		movs	r2, #0
 442 0016 2946     		mov	r1, r5
 443 0018 0E48     		ldr	r0, .L31+8
 444              	.LVL20:
 106:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour   = pTime.Hours;
 445              		.loc 1 106 13 is_stmt 0 view .LVU106
 446 001a FFF7FEFF 		bl	HAL_RTC_GetTime
 447              	.LVL21:
 107:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Min    = pTime.Minutes;
 448              		.loc 1 107 13 is_stmt 1 view .LVU107
 107:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Min    = pTime.Minutes;
 449              		.loc 1 107 64 is_stmt 0 view .LVU108
 450 001e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 107:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Min    = pTime.Minutes;
 451              		.loc 1 107 57 view .LVU109
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 13


 452 0020 6372     		strb	r3, [r4, #9]
 108:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Second = pTime.Seconds;
 453              		.loc 1 108 13 is_stmt 1 view .LVU110
 108:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Second = pTime.Seconds;
 454              		.loc 1 108 64 is_stmt 0 view .LVU111
 455 0022 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 108:Core/Src/fm_rtc.c ****             RTC_GetTime->FM_V0x_Get_TimeDate.Get_Second = pTime.Seconds;
 456              		.loc 1 108 57 view .LVU112
 457 0024 2372     		strb	r3, [r4, #8]
 109:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC); 
 458              		.loc 1 109 13 is_stmt 1 view .LVU113
 109:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC); 
 459              		.loc 1 109 64 is_stmt 0 view .LVU114
 460 0026 AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
 109:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC); 
 461              		.loc 1 109 57 view .LVU115
 462 0028 E371     		strb	r3, [r4, #7]
 111:Core/Src/fm_rtc.c ****             printf("RTC_LOG: ==================***RTC***=====================\r\n");
 463              		.loc 1 111 13 is_stmt 1 view .LVU116
 111:Core/Src/fm_rtc.c ****             printf("RTC_LOG: ==================***RTC***=====================\r\n");
 464              		.loc 1 111 32 is_stmt 0 view .LVU117
 465 002a 084D     		ldr	r5, .L31
 466 002c 0423     		movs	r3, #4
 467 002e 2B70     		strb	r3, [r5]
 112:Core/Src/fm_rtc.c ****             printf("RTC STATE: RTC gets time. Mode is: %d. ",FM_V0x_RTC_States );
 468              		.loc 1 112 13 is_stmt 1 view .LVU118
 469 0030 0948     		ldr	r0, .L31+12
 470 0032 FFF7FEFF 		bl	puts
 471              	.LVL22:
 113:Core/Src/fm_rtc.c ****             printf("Time is: %d %d %d\r\n",    RTC_GetTime->FM_V0x_Get_TimeDate.Get_Hour  ,  RTC_Ge
 472              		.loc 1 113 13 view .LVU119
 473 0036 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 474 0038 0848     		ldr	r0, .L31+16
 475 003a FFF7FEFF 		bl	printf
 476              	.LVL23:
 114:Core/Src/fm_rtc.c ****         }
 477              		.loc 1 114 13 view .LVU120
 478 003e E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 479 0040 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 480 0042 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 481 0044 0648     		ldr	r0, .L31+20
 482 0046 FFF7FEFF 		bl	printf
 483              	.LVL24:
 484 004a DEE7     		b	.L28
 485              	.L32:
 486              		.align	2
 487              	.L31:
 488 004c 00000000 		.word	FM_V0x_RTC_States
 489 0050 00000000 		.word	pTime
 490 0054 00000000 		.word	hrtc
 491 0058 00000000 		.word	.LC5
 492 005c 3C000000 		.word	.LC6
 493 0060 64000000 		.word	.LC7
 494              		.cfi_endproc
 495              	.LFE71:
 497              		.section	.rodata.FM_V0x_RTC_Get_Date.str1.4,"aMS",%progbits,1
 498              		.align	2
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 14


 499              	.LC8:
 500 0000 44617465 		.ascii	"Date is: %d %d %d\015\012\000"
 500      2069733A 
 500      20256420 
 500      25642025 
 500      640D0A00 
 501              		.section	.text.FM_V0x_RTC_Get_Date,"ax",%progbits
 502              		.align	1
 503              		.global	FM_V0x_RTC_Get_Date
 504              		.syntax unified
 505              		.thumb
 506              		.thumb_func
 508              	FM_V0x_RTC_Get_Date:
 509              	.LVL25:
 510              	.LFB72:
 121:Core/Src/fm_rtc.c **** 
 122:Core/Src/fm_rtc.c **** uint8_t FM_V0x_RTC_Get_Date (FM_V0x_Parameters_RTC_t  *RTC_GetDate  ){
 511              		.loc 1 122 70 view -0
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 0
 514              		@ frame_needed = 0, uses_anonymous_args = 0
 515              		.loc 1 122 70 is_stmt 0 view .LVU122
 516 0000 38B5     		push	{r3, r4, r5, lr}
 517              	.LCFI10:
 518              		.cfi_def_cfa_offset 16
 519              		.cfi_offset 3, -16
 520              		.cfi_offset 4, -12
 521              		.cfi_offset 5, -8
 522              		.cfi_offset 14, -4
 523 0002 0446     		mov	r4, r0
 123:Core/Src/fm_rtc.c ****         if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_4 ){
 524              		.loc 1 123 9 is_stmt 1 view .LVU123
 525              		.loc 1 123 31 is_stmt 0 view .LVU124
 526 0004 104B     		ldr	r3, .L37
 527 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 528              		.loc 1 123 11 view .LVU125
 529 0008 042B     		cmp	r3, #4
 530 000a 01D0     		beq	.L36
 531              	.LVL26:
 532              	.L34:
 124:Core/Src/fm_rtc.c **** 
 125:Core/Src/fm_rtc.c ****             HAL_RTC_GetDate(&hrtc, &DateToUpdate, RTC_FORMAT_BIN );
 126:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day    = DateToUpdate.Date;
 127:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Mon    = DateToUpdate.Month;
 128:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Year   = DateToUpdate.Year;
 129:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_3;
 130:Core/Src/fm_rtc.c ****             printf("RTC STATE: RTC gets time. Mode is: %d. ",FM_V0x_RTC_States );
 131:Core/Src/fm_rtc.c ****             printf("Date is: %d %d %d\r\n",    RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day  ,  RTC_Get
 132:Core/Src/fm_rtc.c ****             printf("RTC_LOG: ==================***RTC***=====================\r\n");
 133:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC);  
 134:Core/Src/fm_rtc.c ****         }    
 135:Core/Src/fm_rtc.c ****         if ((   RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day     >= FM_V0x_CHECK_TIME_IS_24HOUR )   && 
 533              		.loc 1 135 9 is_stmt 1 view .LVU126
 136:Core/Src/fm_rtc.c ****                 printf( "-->BUG: Hour in RTC isn't set!\r\n" );
 137:Core/Src/fm_rtc.c ****                 return false;
 138:Core/Src/fm_rtc.c ****             } else {
 139:Core/Src/fm_rtc.c ****                 return   RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day  ;
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 15


 534              		.loc 1 139 17 view .LVU127
 140:Core/Src/fm_rtc.c ****         }
 141:Core/Src/fm_rtc.c **** 
 142:Core/Src/fm_rtc.c **** }
 535              		.loc 1 142 1 is_stmt 0 view .LVU128
 536 000c A07A     		ldrb	r0, [r4, #10]	@ zero_extendqisi2
 537 000e 38BD     		pop	{r3, r4, r5, pc}
 538              	.LVL27:
 539              	.L36:
 125:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day    = DateToUpdate.Date;
 540              		.loc 1 125 13 is_stmt 1 view .LVU129
 541 0010 0E4D     		ldr	r5, .L37+4
 542 0012 0022     		movs	r2, #0
 543 0014 2946     		mov	r1, r5
 544 0016 0E48     		ldr	r0, .L37+8
 545              	.LVL28:
 125:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day    = DateToUpdate.Date;
 546              		.loc 1 125 13 is_stmt 0 view .LVU130
 547 0018 FFF7FEFF 		bl	HAL_RTC_GetDate
 548              	.LVL29:
 126:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Mon    = DateToUpdate.Month;
 549              		.loc 1 126 13 is_stmt 1 view .LVU131
 126:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Mon    = DateToUpdate.Month;
 550              		.loc 1 126 71 is_stmt 0 view .LVU132
 551 001c AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
 126:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Mon    = DateToUpdate.Month;
 552              		.loc 1 126 57 view .LVU133
 553 001e A372     		strb	r3, [r4, #10]
 127:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Year   = DateToUpdate.Year;
 554              		.loc 1 127 13 is_stmt 1 view .LVU134
 127:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Year   = DateToUpdate.Year;
 555              		.loc 1 127 71 is_stmt 0 view .LVU135
 556 0020 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 127:Core/Src/fm_rtc.c ****             RTC_GetDate->FM_V0x_Get_TimeDate.Get_Year   = DateToUpdate.Year;
 557              		.loc 1 127 57 view .LVU136
 558 0022 2373     		strb	r3, [r4, #12]
 128:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_3;
 559              		.loc 1 128 13 is_stmt 1 view .LVU137
 128:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_3;
 560              		.loc 1 128 71 is_stmt 0 view .LVU138
 561 0024 EB78     		ldrb	r3, [r5, #3]	@ zero_extendqisi2
 128:Core/Src/fm_rtc.c ****             FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_3;
 562              		.loc 1 128 57 view .LVU139
 563 0026 6373     		strb	r3, [r4, #13]
 129:Core/Src/fm_rtc.c ****             printf("RTC STATE: RTC gets time. Mode is: %d. ",FM_V0x_RTC_States );
 564              		.loc 1 129 13 is_stmt 1 view .LVU140
 129:Core/Src/fm_rtc.c ****             printf("RTC STATE: RTC gets time. Mode is: %d. ",FM_V0x_RTC_States );
 565              		.loc 1 129 32 is_stmt 0 view .LVU141
 566 0028 0321     		movs	r1, #3
 567 002a 074B     		ldr	r3, .L37
 568 002c 1970     		strb	r1, [r3]
 130:Core/Src/fm_rtc.c ****             printf("Date is: %d %d %d\r\n",    RTC_GetDate->FM_V0x_Get_TimeDate.Get_Day  ,  RTC_Get
 569              		.loc 1 130 13 is_stmt 1 view .LVU142
 570 002e 0948     		ldr	r0, .L37+12
 571 0030 FFF7FEFF 		bl	printf
 572              	.LVL30:
 131:Core/Src/fm_rtc.c ****             printf("RTC_LOG: ==================***RTC***=====================\r\n");
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 16


 573              		.loc 1 131 13 view .LVU143
 574 0034 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 575 0036 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 576 0038 A17A     		ldrb	r1, [r4, #10]	@ zero_extendqisi2
 577 003a 0748     		ldr	r0, .L37+16
 578 003c FFF7FEFF 		bl	printf
 579              	.LVL31:
 132:Core/Src/fm_rtc.c ****            // FM_V0x_RTC_WakeUp(FM_V0x_Get_RTC);  
 580              		.loc 1 132 13 view .LVU144
 581 0040 0648     		ldr	r0, .L37+20
 582 0042 FFF7FEFF 		bl	puts
 583              	.LVL32:
 584 0046 E1E7     		b	.L34
 585              	.L38:
 586              		.align	2
 587              	.L37:
 588 0048 00000000 		.word	FM_V0x_RTC_States
 589 004c 00000000 		.word	DateToUpdate
 590 0050 00000000 		.word	hrtc
 591 0054 3C000000 		.word	.LC6
 592 0058 00000000 		.word	.LC8
 593 005c 00000000 		.word	.LC5
 594              		.cfi_endproc
 595              	.LFE72:
 597              		.section	.rodata.FM_V0x_RTC_WakeUp.str1.4,"aMS",%progbits,1
 598              		.align	2
 599              	.LC9:
 600 0000 52544320 		.ascii	"RTC STATE: RTC gets time. Mode is: %d\015\012\000"
 600      53544154 
 600      453A2052 
 600      54432067 
 600      65747320 
 601              		.section	.text.FM_V0x_RTC_WakeUp,"ax",%progbits
 602              		.align	1
 603              		.global	FM_V0x_RTC_WakeUp
 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 608              	FM_V0x_RTC_WakeUp:
 609              	.LFB73:
 143:Core/Src/fm_rtc.c **** 
 144:Core/Src/fm_rtc.c **** uint8_t FM_V0x_RTC_WakeUp   ( FM_V0x_Parameters_RTC_t RTC_WakeUp){
 610              		.loc 1 144 66 view -0
 611              		.cfi_startproc
 612              		@ args = 0, pretend = 0, frame = 16
 613              		@ frame_needed = 0, uses_anonymous_args = 0
 614 0000 70B5     		push	{r4, r5, r6, lr}
 615              	.LCFI11:
 616              		.cfi_def_cfa_offset 16
 617              		.cfi_offset 4, -16
 618              		.cfi_offset 5, -12
 619              		.cfi_offset 6, -8
 620              		.cfi_offset 14, -4
 621 0002 84B0     		sub	sp, sp, #16
 622              	.LCFI12:
 623              		.cfi_def_cfa_offset 32
 624 0004 04AC     		add	r4, sp, #16
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 17


 625 0006 04E90F00 		stmdb	r4, {r0, r1, r2, r3}
 145:Core/Src/fm_rtc.c ****          FM_V0x_RTC_WakeUp_States_t RTC_WakeUp_States = FM_V0x_FLAG_IS_0_DEF;
 626              		.loc 1 145 10 view .LVU146
 627              	.LVL33:
 146:Core/Src/fm_rtc.c ****          if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_5 ){
 628              		.loc 1 146 10 view .LVU147
 629              		.loc 1 146 32 is_stmt 0 view .LVU148
 630 000a 484B     		ldr	r3, .L53
 631 000c 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
 632              		.loc 1 146 12 view .LVU149
 633 000e 052E     		cmp	r6, #5
 634 0010 7FD1     		bne	.L47
 147:Core/Src/fm_rtc.c **** 
 148:Core/Src/fm_rtc.c ****             if((RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour > FM_V0x_SET_23_HOUR_DEF           )||\
 635              		.loc 1 148 13 is_stmt 1 view .LVU150
 636              		.loc 1 148 47 is_stmt 0 view .LVU151
 637 0012 9DF80940 		ldrb	r4, [sp, #9]	@ zero_extendqisi2
 638              		.loc 1 148 15 view .LVU152
 639 0016 002C     		cmp	r4, #0
 640 0018 40F08580 		bne	.L48
 149:Core/Src/fm_rtc.c ****             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour > FM_V0x_SET_0_HOUR_DEF           )){
 150:Core/Src/fm_rtc.c ****                     return false;
 151:Core/Src/fm_rtc.c ****             }
 152:Core/Src/fm_rtc.c ****             
 153:Core/Src/fm_rtc.c ****             if (( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour > FM_V0x_SET_18_HOUR_DEF         )||\
 641              		.loc 1 153 13 is_stmt 1 view .LVU153
 642              		.loc 1 153 93 is_stmt 0 view .LVU154
 643 001c A31F     		subs	r3, r4, #6
 644 001e DBB2     		uxtb	r3, r3
 645              		.loc 1 153 16 view .LVU155
 646 0020 0C2B     		cmp	r3, #12
 647 0022 2BD9     		bls	.L42
 154:Core/Src/fm_rtc.c ****                 ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour < FM_V0x_SET_6_HOUR_DEF          )){
 155:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin, GPIO_PIN_SET          );      
 648              		.loc 1 155 25 is_stmt 1 view .LVU156
 649 0024 424D     		ldr	r5, .L53+4
 650 0026 0122     		movs	r2, #1
 651 0028 4FF48071 		mov	r1, #256
 652 002c 2846     		mov	r0, r5
 653 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 654              	.LVL34:
 156:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin, GPIO_PIN_SET            );
 655              		.loc 1 156 25 view .LVU157
 656 0032 0122     		movs	r2, #1
 657 0034 1146     		mov	r1, r2
 658 0036 2846     		mov	r0, r5
 659 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 660              	.LVL35:
 157:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin, GPIO_PIN_RESET         );
 661              		.loc 1 157 25 view .LVU158
 662 003c 0022     		movs	r2, #0
 663 003e 1021     		movs	r1, #16
 664 0040 2846     		mov	r0, r5
 665 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 666              	.LVL36:
 158:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_0_DEF;
 667              		.loc 1 158 25 view .LVU159
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 18


 668              		.loc 1 158 43 is_stmt 0 view .LVU160
 669 0046 2546     		mov	r5, r4
 670              	.LVL37:
 671              	.L43:
 159:Core/Src/fm_rtc.c ****             }
 160:Core/Src/fm_rtc.c **** 
 161:Core/Src/fm_rtc.c ****         else if ((( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour < FM_V0x_SET_18_HOUR_DEF    ))||\
 162:Core/Src/fm_rtc.c ****                     (( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour > FM_V0x_SET_6_HOUR_DEF     ))){
 163:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin,    GPIO_PIN_RESET     );      
 164:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,      GPIO_PIN_SET       );
 165:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin,     GPIO_PIN_SET       );
 166:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_1_DEF;
 167:Core/Src/fm_rtc.c ****             }
 168:Core/Src/fm_rtc.c ****         
 169:Core/Src/fm_rtc.c ****             if ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour == FM_V0x_SET_6_HOUR_DEF          ){
 672              		.loc 1 169 13 is_stmt 1 view .LVU161
 673              		.loc 1 169 16 is_stmt 0 view .LVU162
 674 0048 062C     		cmp	r4, #6
 675 004a 2AD0     		beq	.L50
 676              	.LVL38:
 677              	.L44:
 170:Core/Src/fm_rtc.c ****                 if (( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Min == FM_V0x_SET_0_MIN_DEF     )&&\
 171:Core/Src/fm_rtc.c ****                     ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF )){
 172:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin,   GPIO_PIN_SET        );
 173:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin,    GPIO_PIN_SET        );
 174:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,     GPIO_PIN_RESET      );
 175:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_2_DEF;
 176:Core/Src/fm_rtc.c ****                 }
 177:Core/Src/fm_rtc.c ****                 else if ((( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Min >= FM_V0x_SET_2_MIN_DEF      )&&
 178:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.Set_Min <= FM_V0x_SET_59_MIN_DEF                         )
 179:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF  )
 180:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin,   GPIO_PIN_RESET             )
 181:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,     GPIO_PIN_SET               )
 182:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_3_DEF;
 183:Core/Src/fm_rtc.c ****                 }
 184:Core/Src/fm_rtc.c ****             }
 185:Core/Src/fm_rtc.c **** 
 186:Core/Src/fm_rtc.c ****             if( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour == FM_V0x_SET_16_HOUR_DEF                 )
 678              		.loc 1 186 13 is_stmt 1 view .LVU163
 679              		.loc 1 186 15 is_stmt 0 view .LVU164
 680 004c 102C     		cmp	r4, #16
 681 004e 61D1     		bne	.L40
 187:Core/Src/fm_rtc.c ****                 if (( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Min == FM_V0x_SET_0_MIN_DEF               
 682              		.loc 1 187 17 is_stmt 1 view .LVU165
 683              		.loc 1 187 53 is_stmt 0 view .LVU166
 684 0050 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 685              		.loc 1 187 20 view .LVU167
 686 0054 002B     		cmp	r3, #0
 687 0056 4ED0     		beq	.L51
 188:Core/Src/fm_rtc.c ****                     ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF        )){
 189:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin, GPIO_PIN_SET                 )
 190:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,    GPIO_PIN_RESET              )
 191:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_4_DEF;
 192:Core/Src/fm_rtc.c ****                 }
 193:Core/Src/fm_rtc.c ****                 else if ((( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Min >= FM_V0x_SET_2_MIN_DEF      )&&
 688              		.loc 1 193 22 is_stmt 1 view .LVU168
 689              		.loc 1 193 98 is_stmt 0 view .LVU169
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 19


 690 0058 023B     		subs	r3, r3, #2
 691 005a DBB2     		uxtb	r3, r3
 692              		.loc 1 193 25 view .LVU170
 693 005c 392B     		cmp	r3, #57
 694 005e 59D8     		bhi	.L40
 194:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Min <= FM_V0x_SET_59_MIN_DEF     )
 195:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF  )
 196:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LED_STATUS_Pin,   GPIO_PIN_RESET             )
 695              		.loc 1 196 25 is_stmt 1 view .LVU171
 696 0060 334C     		ldr	r4, .L53+4
 697 0062 0022     		movs	r2, #0
 698 0064 4FF48071 		mov	r1, #256
 699 0068 2046     		mov	r0, r4
 700 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
 701              	.LVL39:
 197:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,   GPIO_PIN_SET                 )
 702              		.loc 1 197 25 view .LVU172
 703 006e 0122     		movs	r2, #1
 704 0070 1146     		mov	r1, r2
 705 0072 2046     		mov	r0, r4
 706 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 707              	.LVL40:
 198:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_5_DEF;
 708              		.loc 1 198 25 view .LVU173
 709              		.loc 1 198 43 is_stmt 0 view .LVU174
 710 0078 3546     		mov	r5, r6
 711 007a 4BE0     		b	.L40
 712              	.LVL41:
 713              	.L42:
 161:Core/Src/fm_rtc.c ****                     (( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Hour > FM_V0x_SET_6_HOUR_DEF     ))){
 714              		.loc 1 161 14 is_stmt 1 view .LVU175
 163:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,      GPIO_PIN_SET       );
 715              		.loc 1 163 25 view .LVU176
 716 007c 2C4D     		ldr	r5, .L53+4
 717 007e 0022     		movs	r2, #0
 718 0080 4FF48071 		mov	r1, #256
 719 0084 2846     		mov	r0, r5
 720 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 721              	.LVL42:
 164:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin,     GPIO_PIN_SET       );
 722              		.loc 1 164 25 view .LVU177
 723 008a 0122     		movs	r2, #1
 724 008c 1146     		mov	r1, r2
 725 008e 2846     		mov	r0, r5
 726 0090 FFF7FEFF 		bl	HAL_GPIO_WritePin
 727              	.LVL43:
 165:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_1_DEF;
 728              		.loc 1 165 25 view .LVU178
 729 0094 0122     		movs	r2, #1
 730 0096 1021     		movs	r1, #16
 731 0098 2846     		mov	r0, r5
 732 009a FFF7FEFF 		bl	HAL_GPIO_WritePin
 733              	.LVL44:
 166:Core/Src/fm_rtc.c ****             }
 734              		.loc 1 166 25 view .LVU179
 166:Core/Src/fm_rtc.c ****             }
 735              		.loc 1 166 43 is_stmt 0 view .LVU180
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 20


 736 009e 0125     		movs	r5, #1
 737 00a0 D2E7     		b	.L43
 738              	.LVL45:
 739              	.L50:
 170:Core/Src/fm_rtc.c ****                     ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF )){
 740              		.loc 1 170 17 is_stmt 1 view .LVU181
 170:Core/Src/fm_rtc.c ****                     ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF )){
 741              		.loc 1 170 53 is_stmt 0 view .LVU182
 742 00a2 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 170:Core/Src/fm_rtc.c ****                     ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF )){
 743              		.loc 1 170 20 view .LVU183
 744 00a6 9BB1     		cbz	r3, .L52
 177:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.Set_Min <= FM_V0x_SET_59_MIN_DEF                         )
 745              		.loc 1 177 22 is_stmt 1 view .LVU184
 177:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.Set_Min <= FM_V0x_SET_59_MIN_DEF                         )
 746              		.loc 1 177 25 is_stmt 0 view .LVU185
 747 00a8 012B     		cmp	r3, #1
 748 00aa CFD9     		bls	.L44
 178:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF  )
 749              		.loc 1 178 41 view .LVU186
 750 00ac 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 178:Core/Src/fm_rtc.c ****                             ( RTC_WakeUp.FM_V0x_Get_TimeDate.Get_Second >= FM_V0x_SET_SECOND_DEF  )
 751              		.loc 1 178 101 view .LVU187
 752 00b0 3B2B     		cmp	r3, #59
 753 00b2 CBD8     		bhi	.L44
 180:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,     GPIO_PIN_SET               )
 754              		.loc 1 180 25 is_stmt 1 view .LVU188
 755 00b4 1E4D     		ldr	r5, .L53+4
 756              	.LVL46:
 180:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,     GPIO_PIN_SET               )
 757              		.loc 1 180 25 is_stmt 0 view .LVU189
 758 00b6 0022     		movs	r2, #0
 759 00b8 4FF48071 		mov	r1, #256
 760 00bc 2846     		mov	r0, r5
 761 00be FFF7FEFF 		bl	HAL_GPIO_WritePin
 762              	.LVL47:
 181:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_3_DEF;
 763              		.loc 1 181 25 is_stmt 1 view .LVU190
 764 00c2 0122     		movs	r2, #1
 765 00c4 1146     		mov	r1, r2
 766 00c6 2846     		mov	r0, r5
 767 00c8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 768              	.LVL48:
 182:Core/Src/fm_rtc.c ****                 }
 769              		.loc 1 182 25 view .LVU191
 182:Core/Src/fm_rtc.c ****                 }
 770              		.loc 1 182 43 is_stmt 0 view .LVU192
 771 00cc 0325     		movs	r5, #3
 772 00ce BDE7     		b	.L44
 773              	.LVL49:
 774              	.L52:
 172:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin,    GPIO_PIN_SET        );
 775              		.loc 1 172 25 is_stmt 1 view .LVU193
 776 00d0 174D     		ldr	r5, .L53+4
 777              	.LVL50:
 172:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_LIGHT_DRV_Pin,    GPIO_PIN_SET        );
 778              		.loc 1 172 25 is_stmt 0 view .LVU194
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 21


 779 00d2 0122     		movs	r2, #1
 780 00d4 4FF48071 		mov	r1, #256
 781 00d8 2846     		mov	r0, r5
 782 00da FFF7FEFF 		bl	HAL_GPIO_WritePin
 783              	.LVL51:
 173:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,     GPIO_PIN_RESET      );
 784              		.loc 1 173 25 is_stmt 1 view .LVU195
 785 00de 0122     		movs	r2, #1
 786 00e0 1021     		movs	r1, #16
 787 00e2 2846     		mov	r0, r5
 788 00e4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 789              	.LVL52:
 174:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_2_DEF;
 790              		.loc 1 174 25 view .LVU196
 791 00e8 0022     		movs	r2, #0
 792 00ea 0121     		movs	r1, #1
 793 00ec 2846     		mov	r0, r5
 794 00ee FFF7FEFF 		bl	HAL_GPIO_WritePin
 795              	.LVL53:
 175:Core/Src/fm_rtc.c ****                 }
 796              		.loc 1 175 25 view .LVU197
 175:Core/Src/fm_rtc.c ****                 }
 797              		.loc 1 175 43 is_stmt 0 view .LVU198
 798 00f2 0225     		movs	r5, #2
 799 00f4 AAE7     		b	.L44
 800              	.LVL54:
 801              	.L51:
 189:Core/Src/fm_rtc.c ****                         HAL_GPIO_WritePin( GPIOA, FM_PUMP_DRV_Pin,    GPIO_PIN_RESET              )
 802              		.loc 1 189 25 is_stmt 1 view .LVU199
 803 00f6 0E4C     		ldr	r4, .L53+4
 804 00f8 0122     		movs	r2, #1
 805 00fa 4FF48071 		mov	r1, #256
 806 00fe 2046     		mov	r0, r4
 807 0100 FFF7FEFF 		bl	HAL_GPIO_WritePin
 808              	.LVL55:
 190:Core/Src/fm_rtc.c ****                         RTC_WakeUp_States = FM_V0x_FLAG_IS_4_DEF;
 809              		.loc 1 190 25 view .LVU200
 810 0104 0022     		movs	r2, #0
 811 0106 0121     		movs	r1, #1
 812 0108 2046     		mov	r0, r4
 813 010a FFF7FEFF 		bl	HAL_GPIO_WritePin
 814              	.LVL56:
 191:Core/Src/fm_rtc.c ****                 }
 815              		.loc 1 191 25 view .LVU201
 191:Core/Src/fm_rtc.c ****                 }
 816              		.loc 1 191 43 is_stmt 0 view .LVU202
 817 010e 0425     		movs	r5, #4
 818 0110 00E0     		b	.L40
 819              	.LVL57:
 820              	.L47:
 145:Core/Src/fm_rtc.c ****          if( FM_V0x_RTC_States == FM_V0x_RTC_STATE_FLAG_IS_5 ){
 821              		.loc 1 145 37 view .LVU203
 822 0112 0025     		movs	r5, #0
 823              	.LVL58:
 824              	.L40:
 199:Core/Src/fm_rtc.c ****                 }
 200:Core/Src/fm_rtc.c ****             }
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 22


 201:Core/Src/fm_rtc.c ****     }    
 202:Core/Src/fm_rtc.c ****         FM_V0x_RTC_States  = FM_V0x_RTC_STATE_FLAG_IS_5;
 825              		.loc 1 202 9 is_stmt 1 view .LVU204
 826              		.loc 1 202 28 is_stmt 0 view .LVU205
 827 0114 0521     		movs	r1, #5
 828 0116 054B     		ldr	r3, .L53
 829 0118 1970     		strb	r1, [r3]
 203:Core/Src/fm_rtc.c ****         printf("RTC STATE: RTC gets time. Mode is: %d\r\n",FM_V0x_RTC_States );
 830              		.loc 1 203 9 is_stmt 1 view .LVU206
 831 011a 0648     		ldr	r0, .L53+8
 832 011c FFF7FEFF 		bl	printf
 833              	.LVL59:
 204:Core/Src/fm_rtc.c ****         return  RTC_WakeUp_States;
 834              		.loc 1 204 9 view .LVU207
 835              	.L41:
 205:Core/Src/fm_rtc.c **** }...
 836              		.loc 1 205 1 is_stmt 0 view .LVU208
 837 0120 2846     		mov	r0, r5
 838 0122 04B0     		add	sp, sp, #16
 839              	.LCFI13:
 840              		.cfi_remember_state
 841              		.cfi_def_cfa_offset 16
 842              		@ sp needed
 843 0124 70BD     		pop	{r4, r5, r6, pc}
 844              	.LVL60:
 845              	.L48:
 846              	.LCFI14:
 847              		.cfi_restore_state
 150:Core/Src/fm_rtc.c ****                     return false;
 848              		.loc 1 150 28 view .LVU209
 849 0126 0025     		movs	r5, #0
 850 0128 FAE7     		b	.L41
 851              	.L54:
 852 012a 00BF     		.align	2
 853              	.L53:
 854 012c 00000000 		.word	FM_V0x_RTC_States
 855 0130 00080140 		.word	1073809408
 856 0134 00000000 		.word	.LC9
 857              		.cfi_endproc
 858              	.LFE73:
 860              		.global	DateToUpdate
 861              		.section	.bss.DateToUpdate,"aw",%nobits
 862              		.align	2
 865              	DateToUpdate:
 866 0000 00000000 		.space	4
 867              		.global	sTime
 868              		.section	.bss.sTime,"aw",%nobits
 869              		.align	2
 872              	sTime:
 873 0000 000000   		.space	3
 874              		.global	hrtc
 875              		.section	.bss.hrtc,"aw",%nobits
 876              		.align	2
 879              	hrtc:
 880 0000 00000000 		.space	20
 880      00000000 
 880      00000000 
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 23


 880      00000000 
 880      00000000 
 881              		.global	pTime
 882              		.section	.bss.pTime,"aw",%nobits
 883              		.align	2
 886              	pTime:
 887 0000 000000   		.space	3
 888              		.global	FM_V0x_RTC_States
 889              		.section	.bss.FM_V0x_RTC_States,"aw",%nobits
 892              	FM_V0x_RTC_States:
 893 0000 00       		.space	1
 894              		.global	FM_V0x_Alarm_RTC
 895              		.section	.bss.FM_V0x_Alarm_RTC,"aw",%nobits
 896              		.align	2
 899              	FM_V0x_Alarm_RTC:
 900 0000 000000   		.space	3
 901              		.global	FM_V0x_Get_RTC
 902              		.section	.bss.FM_V0x_Get_RTC,"aw",%nobits
 903              		.align	2
 906              	FM_V0x_Get_RTC:
 907 0000 00000000 		.space	14
 907      00000000 
 907      00000000 
 907      0000
 908              		.global	FM_V0x_RTC_Pars
 909              		.section	.bss.FM_V0x_RTC_Pars,"aw",%nobits
 910              		.align	2
 913              	FM_V0x_RTC_Pars:
 914 0000 00000000 		.space	14
 914      00000000 
 914      00000000 
 914      0000
 915              		.text
 916              	.Letext0:
 917              		.file 2 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/ma
 918              		.file 3 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/sy
 919              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 920              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 921              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 922              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rtc.h"
 923              		.file 8 "Core/Inc/fm_rtc.h"
 924              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rtc_ex.h"
 925              		.file 10 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/s
 926              		.file 11 "<built-in>"
ARM GAS  C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 fm_rtc.c
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:19     .rodata.FM_V0x_RTC_Set_Time.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:24     .text.FM_V0x_RTC_Set_Time:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:30     .text.FM_V0x_RTC_Set_Time:00000000 FM_V0x_RTC_Set_Time
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:155    .text.FM_V0x_RTC_Set_Time:0000008c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:892    .bss.FM_V0x_RTC_States:00000000 FM_V0x_RTC_States
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:879    .bss.hrtc:00000000 hrtc
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:872    .bss.sTime:00000000 sTime
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:164    .rodata.FM_V0x_RTC_Set_Date.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:169    .text.FM_V0x_RTC_Set_Date:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:175    .text.FM_V0x_RTC_Set_Date:00000000 FM_V0x_RTC_Set_Date
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:281    .text.FM_V0x_RTC_Set_Date:00000070 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:865    .bss.DateToUpdate:00000000 DateToUpdate
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:290    .rodata.FM_V0x_Rtc_Init.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:301    .text.FM_V0x_Rtc_Init:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:307    .text.FM_V0x_Rtc_Init:00000000 FM_V0x_Rtc_Init
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:379    .text.FM_V0x_Rtc_Init:00000048 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:913    .bss.FM_V0x_RTC_Pars:00000000 FM_V0x_RTC_Pars
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:388    .rodata.FM_V0x_RTC_Get_Time.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:399    .text.FM_V0x_RTC_Get_Time:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:405    .text.FM_V0x_RTC_Get_Time:00000000 FM_V0x_RTC_Get_Time
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:488    .text.FM_V0x_RTC_Get_Time:0000004c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:886    .bss.pTime:00000000 pTime
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:498    .rodata.FM_V0x_RTC_Get_Date.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:502    .text.FM_V0x_RTC_Get_Date:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:508    .text.FM_V0x_RTC_Get_Date:00000000 FM_V0x_RTC_Get_Date
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:588    .text.FM_V0x_RTC_Get_Date:00000048 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:598    .rodata.FM_V0x_RTC_WakeUp.str1.4:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:602    .text.FM_V0x_RTC_WakeUp:00000000 $t
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:608    .text.FM_V0x_RTC_WakeUp:00000000 FM_V0x_RTC_WakeUp
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:854    .text.FM_V0x_RTC_WakeUp:0000012c $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:862    .bss.DateToUpdate:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:869    .bss.sTime:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:876    .bss.hrtc:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:883    .bss.pTime:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:893    .bss.FM_V0x_RTC_States:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:899    .bss.FM_V0x_Alarm_RTC:00000000 FM_V0x_Alarm_RTC
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:896    .bss.FM_V0x_Alarm_RTC:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:906    .bss.FM_V0x_Get_RTC:00000000 FM_V0x_Get_RTC
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:903    .bss.FM_V0x_Get_RTC:00000000 $d
C:\Users\CDP~1.DAR\AppData\Local\Temp\ccFueZKW.s:910    .bss.FM_V0x_RTC_Pars:00000000 $d

UNDEFINED SYMBOLS
HAL_RTC_Init
HAL_RTCEx_BKUPRead
printf
Error_Handler
HAL_RTC_SetTime
HAL_RTCEx_BKUPWrite
HAL_RTC_SetDate
puts
HAL_RTC_GetTime
HAL_RTC_GetDate
HAL_GPIO_WritePin
